(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{2:function(t,r,c){"use strict";(function(o){c.d(r,"a",function(){return n});var t=["news","newest","ask","show","jobs","item/:key","user/:key"],e=t.reduce(function(t,e){return t[e]=function(n){return function(t){var e=n.split("/")[0];return"https://api.hnpwa.com/v0/".concat(e,"/").concat(t,".json")}}(e),t},{}),n={getData:function(n){return function(t){n.state.showComment=!1,n.state.comment={},n.state.route=t;var e=n.getPath(t);n.data[t]?n.data[t]:n.data[t]={data:[]},n.reqs.http(n)(n.reqs.urls[e](n.state.page))(t)}},getDataById:function(n){return function(e){return function(t){n.state.prev=n.state.route,"item"==e&&(n.state.route=e),n.data[e]?n.data[e]:n.data[e]={data:[]},n.reqs.http(n)(n.reqs.urls["".concat(e,"/:key")](t))(e)}}},routes:t,getPath:function(t){return t.split("/")[1]},reqs:{urls:e,http:function(n){return function(t){return function(e){return o.request({url:t,method:"GET"}).then(function(t){return n.data[e].data=t,n})}}}},data:{},state:{key:"",url:"",route:"",page:1,profile:"",tabsShowing:!1,title:"",comment:{},showModal:!1,showUser:!1,user:{id:""}},toggleComments:function(t){var e=t.model,n=t.key,o=t.level;return e.state.comment["".concat(n,"-").concat(o)]?e.state.comment["".concat(n,"-").concat(o)]=!e.state.comment["".concat(n,"-").concat(o)]:e.state.comment["".concat(n,"-").concat(o)]=!0},toggleModal:function(t){return t.state.showModal=!t.state.showModal},toggleUser:function(e){return function(t){e.state.user.id=t,e.state.showUser=!e.state.showUser}}}}).call(this,c(0))},28:function(t,e){},29:function(t,e){},30:function(t,e){},31:function(t,e,n){"use strict";n.r(e);var o=n(0),f=n.n(o),r=n(2),c=n(33),i={view:function(t){var e=t.attrs,n=e.title,o=e.model,r=e.close;return f()(".modal-header",[f()("h4.title",n),f()("button.closeBtn",{onclick:function(){return r(o)}},"X")])}},u={view:function(t){var e=t.children;return f()(".modal-contents",e)}},s={view:function(t){var e=t.children;return f()(".modal-footer",e)}},a={oninit:function(t){var e=t.attrs;return(0,e.init)(e.model)},view:function(t){var e=t.attrs,n=e.title,o=e.contents,r=e.footer,c=e.model,a=e.close;return f()("section.modalContainer",f()(".modal",{},[f()(i,{title:n,model:c,close:a}),f()(u,o),f()(s,r)]))}};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t){var r=t.attrs.key;return{view:function(t){var e=t.attrs,n=e.tab,o=e.isActive;return f()(f.a.route.Link,{class:"tab".concat(o?" underline":""),key:r,id:"".concat(n),href:"/".concat(n)},n)}}}function h(t){var e=t.attrs.model,n=Object.keys(e.reqs.urls),o=Object(c.a)(["item/:key","user/:key"],n);return{view:function(t){var n=t.attrs.model;return f()(".header",{id:"header"},[f()("svg.brand",{onclick:function(){return n.toggleModal(n)}},g),o.map(function(t,e){return f()(m,{key:e,isActive:n.state.route=="/".concat(t),tab:t})}),n.state.showModal?f()(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},v,{model:n})):""])}}}function p(t){var n=t.attrs.model;return{view:function(t){var e=t.children;return f()("section.layout",{id:"layout"},e?[f()(h,{model:n}),f()(w,{model:n,children:e}),f()(b,{model:n})]:[])}}}var g=f()("path",{d:"M31.716,13.5C31.699,6.47,25.974,0.755,18.94,0.755c-7.045,0-12.777,5.732-12.777,12.777\n\t\t\tc0,0.022,0.004,0.043,0.004,0.065C2.477,15.84,0,19.887,0,24.511c0,7.046,5.731,12.777,12.777,12.777\n\t\t\tc2.268,0,4.395-0.601,6.244-1.642c1.849,1.041,3.977,1.642,6.245,1.642c7.046,0,12.777-5.732,12.777-12.777\n\t\t\tC38.043,19.82,35.495,15.722,31.716,13.5z M19.021,32.961c-2.312-1.713-3.906-4.341-4.22-7.352c1.3,0.448,2.689,0.702,4.139,0.702\n\t\t\tc1.514,0,2.96-0.278,4.307-0.764C22.949,28.584,21.349,31.236,19.021,32.961z M8.517,14.898c1.303-0.579,2.743-0.909,4.26-0.909\n\t\t\tc1.475,0,2.879,0.307,4.154,0.858c-2.114,1.826-3.629,4.325-4.195,7.167C10.473,20.352,8.898,17.814,8.517,14.898z M18.94,24.055\n\t\t\tc-1.457,0-2.846-0.298-4.109-0.837c0.361-2.928,1.929-5.482,4.19-7.157c2.243,1.662,3.802,4.187,4.18,7.085\n\t\t\tC21.897,23.727,20.457,24.055,18.94,24.055z M21.111,14.846c1.275-0.55,2.679-0.858,4.154-0.858c1.457,0,2.846,0.298,4.11,0.837\n\t\t\tc-0.356,2.885-1.883,5.404-4.089,7.082C24.704,19.108,23.199,16.65,21.111,14.846z M18.94,3.01c5.432,0,9.915,4.137,10.466,9.425\n\t\t\tc-1.3-0.447-2.689-0.702-4.14-0.702c-2.268,0-4.396,0.601-6.245,1.642c-1.848-1.041-3.975-1.642-6.244-1.642\n\t\t\tc-1.514,0-2.96,0.278-4.307,0.763C8.993,7.179,13.488,3.01,18.94,3.01z M12.777,35.034c-5.803,0-10.523-4.72-10.523-10.523\n\t\t\tc0-3.418,1.645-6.451,4.177-8.375c0.744,3.581,2.999,6.607,6.059,8.408c0.011,3.847,1.735,7.293,4.442,9.631\n\t\t\tC15.656,34.727,14.253,35.034,12.777,35.034z M25.266,35.034c-1.475,0-2.879-0.307-4.154-0.858\n\t\t\tc2.715-2.345,4.444-5.804,4.444-9.664c0-0.022-0.004-0.044-0.004-0.065c3.007-1.829,5.209-4.852,5.918-8.416\n\t\t\tc2.613,1.917,4.319,4.999,4.319,8.48C35.788,30.313,31.068,35.034,25.266,35.034z",style:{fill:"white"}}),v={init:function(){},close:function(t){return t.toggleModal(t)},title:"About",contents:[f()("p","built with ",f()("a",{rel:"noopener",target:"_blank",href:"https://mithril.js.org"}," Mithril.JS")," and webpack"),f()("p","source code: ",f()("a",{rel:"noopener",target:"_blank",href:"https://github.com/boazblake/mithril-hn-pwa"},"can be found here"))],footer:[f()("p",["made by ",f()("a",{rel:"noopener",target:"_blank",href:"https://linkedin.com/in/boazblake/"},"B Blake")])]},b={view:function(){return f()("footer.footer",{id:"footer"},"content served from https://api.hnpwa.com/")}},w={view:function(t){var e=t.attrs.children;return f()("section.content",{id:"content"},e)}};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(){return{view:function(t){function n(t,e){var n=1<arguments.length&&void 0!==e?e:"";o.state.title=n,o.state.id=t,o.state.showComment=!o.state.showComment}var o=t.attrs.model,e=o.state.route,r=o.data[e].data;return f()("section.component",{id:"component",route:o.state.route,onscroll:function(r){return function(t){var e=r.state.route,n=r.data[e].data.length,o=10*n*r.state.scrollPos;t.target.scrollTop-r.state.scrollPos>=o&&(r.state.scrollPos++,t.target.scrollTop,n<r.data[e].limit&&r.getData(r)(e))}}(o)},[function(t){return 0==t.length}(r)?f()(".loader",C):function(t){return t.map}(r)?r.map(function(t,e){return f()(P,{key:e,post:t,model:o,showItem:n})}):function(t){return t.comments&&t.comments.map}(r)?[f()(".titleContainer",[f()("button.backBtn",{onclick:function(){return f.a.route.set(o.state.prev||"/news")}},"Back"),f()("h1.title",r.title)]),r.comments.map(function(t,e){return f()(M,{key:e,comment:t,model:o})})]:"",o.state.showUser&&o.state.user.id?f()(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},function(t){return{init:function(t){return t.getDataById(t)("user")(t.state.user.id)},close:function(t){return t.toggleUser(t)("")},title:"User",contents:t.data.user&&t.data.user.data?[f()("code","id: ".concat(t.data.user.data.id)),f()("code","created: ".concat(t.data.user.data.created)),f()("code","about: ".concat(t.data.user.data.about)),f()("code","karma: ".concat(t.data.user.data.karma))]:[],footer:[]}}(o),{model:o})):""])}}}function j(n){return{onmatch:function(t,e){return function(o){return function(t){o.state.page=1;var e=t.split("/")[2],n=t.split("/")[1];return e?o.getDataById(o)(n)(e):o.getData(o)(t)}}(n)(e)},render:function(){return f()(p,{model:n},f()(O,{model:n}))}}}var C=f()(".holder",[f()(".preloader",[f()("div"),f()("div"),f()("div"),f()("div"),f()("div"),f()("div"),f()("div")])]),P={view:function(t){var e=t.attrs,n=e.model,o=e.showItem,r=e.post,c=r.comments_count,a=r.domain,i=r.id,u=r.points,s=r.time_ago,l=r.title,d=r.url,m=r.user;return f()(".postContainer",{id:"".concat(i)},[f()(".top",[f()("h1.title",l),f()("code.subTitle"," from ",f()("a.",{target:"_blank",href:d,rel:"noopener"},"".concat(a)))]),f()(".bottom",[f()(".left",[f()(".top.highlight.cursor",{onclick:function(){n.toggleUser(n)(m)}}," by ".concat(m)),f()("code.bottom","".concat(s))]),f()(".right",[f()("code.highlight.top","".concat(u," points")),function(o){return function(n){return function(t,e){return o?f()(f.a.route.Link,{class:"bottom",href:"/item/".concat(t),onclick:function(){return n(t,e)}},"".concat(o," comments")):"".concat(o," comments")}}}(c)(o)(i,l)])])])}},M={view:function(t){var e=t.attrs,n=e.key,o=e.model,r=e.comment,c=r.comments,a=r.comments_count,i=r.id,u=r.time_ago,s=r.content,l=r.level,d=r.user,m={showComments:o.state.comment["".concat(n,"-").concat(l)]||!1};return f()(".commentContainer",{id:"".concat(i)},[f()(".",[f()("a.highlight.cursor",{onclick:function(){o.toggleUser(o)(d),console.log(d)}}," ".concat(d)),f()("code"," ".concat(u))]),f()(".nudgeRight",[f()("code",f.a.trust(s)),a?f()("button.commentBtn",{onclick:function(){return o.toggleComments({model:o,key:n,level:l})}},[f()("svg.toggleCommentSvg",function(t){return 0<arguments.length&&void 0!==t&&t?f()("path.highlight",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-12v-2h12v2z"}):f()("path.highlight",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6 13h-5v5h-2v-5h-5v-2h5v-5h2v5h5v2z"})}(m.showComments)),"".concat(a," comments")]):"",m.showComments?c.map(function(t,e){return f()(M,{key:e,comment:t,model:o})}):""])])}},z=(n(28),n(29),n(30),document.body);function D(t){return t<668?"phone":t<920?"tablet":"desktop"}var B,S,U=window.innerWidth;r.a.state.profile=D(U),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./service-worker.js").then(function(t){console.log("🧟 SW registered: ",t)}).catch(function(t){console.log("⚙️ SW registration failed: ",t)})}),function t(){var e=window.innerWidth;if(U!==e){U=e;var n=r.a.state.profile;r.a.state.profile=D(e),n!=r.a.state.profile&&f.a.redraw()}requestAnimationFrame(t)}(),f.a.route(z,"/news",(S=r.a).routes.reduce((B=S,function(n){return function(t,e){return t["/".concat(e)]=n(B),t}}(j)),{}))}},[[31,1,2]]]);
//# sourceMappingURL=main-chunk.js.map