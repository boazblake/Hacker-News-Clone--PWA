(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(t,e,n){"use strict";(function(r){n.d(e,"a",function(){return t});var t={reqs:{urls:["/posts","/comments","/albums","/photos","/todos","/users"].reduce(function(t,e){var n;return t[e]=(n=e,function(t,e){return"https://jsonplaceholder.typicode.com".concat(n,"?_start=").concat(t,"&_limit=").concat(e)}),t},{}),http:function(n){return function(t){return function(e){return r.request({url:t,method:"GET",extract:function(t){return n.data[e].limit=parseInt(t.getResponseHeader("x-total-count")),JSON.parse(t.responseText)}}).then(function(t){return n.data[e].data=n.data[e].data.concat(t),n})}}}},limits:[30,40,50,60,70,80,90,100],data:{},state:{url:"",route:"",scrollPos:1,limit:30,profile:"",tabsShowing:!1,showLimits:!1},toggleLimits:function(t){return t.state.showLimits=!t.state.showLimits},showTabs:function(t){return t.state.tabsShowing=!t.state.tabsShowing}}}).call(this,n(0))},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e);var l=n(0),r=n(1),o=function(t){var e=t.attrs.model,n="M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z",r="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z",o=function(t){return l.default.render(t,Object(l.default)("path",{xmlns:"http://www.w3.org/2000/svg",d:e.state.tabsShowing?n:r}))};return{oncreate:function(t){var e=t.dom;return o(e)},onupdate:function(t){var e=t.dom;return o(e)},view:function(t){var e=t.attrs.model;return Object(l.default)("svg.btn.hamburger",{style:{fill:e.state.tabsShowing?"white":"inherit"},onclick:function(){return e.showTabs(e)}})}}};function a(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=function(t){var e=t.dom;e.style.opacity=0,e.classList.toggle("slideRight"),e.style.opacity=1},c=function(n){return function(t){var e=t.dom;e.style.opacity=0,setTimeout(function(){e.classList.toggle("slideDown"),e.style.opacity=1},200*(n+1))}},u=function(n){return function(t){var e=t.dom;e.style.opacity=0,setTimeout(function(){e.classList.toggle(n),e.style.opacity=1},200)}},s={onbeforeremove:function(t){var e=t.dom;return new Promise(function(){a(e.children).reverse().map(function(t,e){return setTimeout(function(){t.style.display="none"},100*e)})})},view:function(t){var n=t.attrs.model;return Object(l.default)(".limits",n.limits.map(function(t,e){return Object(l.default)("button.btn.limit",{oncreate:c(e),onclick:function(){n.state.limit=t,n.state.showLimits=!1},key:e},t)}))}},d={view:function(t){var e=t.attrs.model;return Object(l.default)(".changeLimits",[Object(l.default)("button.changeLimitBtn",{onclick:function(){return e.toggleLimits(e)}},"Change Limit"),e.state.showLimits&&Object(l.default)(s,{model:e})])}},f={oncreate:u("slideDown"),view:function(t){var e=t.attrs.model;return Object(l.default)("header.header",{id:"header"},[Object(l.default)(o,{model:e}),Object(l.default)(d,{model:e})])}},m={oncreate:u("slideUp"),view:function(){return Object(l.default)("footer.footer",{oncreate:c,id:"footer"},"content served from https://jsonplaceholder.typicode.com")}},b=function(t){var n=t.attrs.key;return{oncreate:i,view:function(t){var e=t.attrs.tab;return Object(l.default)("a.tab",{key:n,id:"".concat(e),href:"".concat(e),oncreate:l.default.route.link},e.split("/")[1])}}},h=function(t){var e=t.attrs.model,r=Object.keys(e.reqs.urls);return{oncreate:i,view:function(t){var n=t.attrs.model;return Object(l.default)("aside.sidebar slide-left",{id:"sidebar"},r.map(function(t,e){return Object(l.default)(b,{key:e,active:n.state.route==t,tab:t})}))}}},p={oncreate:i,onbeforeremove:function(t){var e=t.dom;return new Promise(function(){return e.classList.remove("slideRight"),setTimeout(function(){e.classList.add("reverseAnimation","slideRight")},200)})},view:function(t){var e=t.children;return Object(l.default)(".navigationModal",e)}},v={oncreate:u("slideUp"),view:function(t){var e=t.attrs.children;return Object(l.default)("section.content",{id:"content"},e)}},j=function(t){var n=t.attrs.model;return{view:function(t){var e=t.children;return Object(l.default)("section.layout",{id:"layout"},e?[Object(l.default)(f,{model:n}),"phone"==n.state.profile?n.state.tabsShowing?Object(l.default)(p,Object(l.default)(h,{model:n})):null:Object(l.default)(h,{model:n}),Object(l.default)(v,{model:n,children:e}),Object(l.default)(m,{model:n})]:[])}}},O=function(n){return function(t){n.state.route=t,n.data[t]?n.data[t]:n.data[t]={data:[],limit:1};var e=n.data[t].data.length;n.reqs.http(n)(n.reqs.urls[t](e,n.state.limit))(t)}},w=Object(l.default)(".holder",[Object(l.default)(".preloader",[Object(l.default)("div"),Object(l.default)("div"),Object(l.default)("div"),Object(l.default)("div"),Object(l.default)("div"),Object(l.default)("div"),Object(l.default)("div")])]),g={view:function(t){var e=t.attrs,n=e.key,r=e.item,o=r.title,a=r.body;return Object(l.default)(".grid-item.row.post",{id:"post-".concat(n)},[Object(l.default)("h1.left",o),Object(l.default)("p.right",a)])}},y={view:function(t){var e=t.attrs,n=e.key,r=e.item,o=r.email,a=r.name,i=r.body;return Object(l.default)(".grid-item.row.comment",{id:"comment-".concat(n)},[Object(l.default)("h1.left",a),Object(l.default)("p.left",o),Object(l.default)("p.left",i)])}},k={view:function(t){var e=t.attrs,n=e.key,r=e.item.title;return Object(l.default)(".grid-item.album",{id:"album-".concat(n)},[Object(l.default)("h1",r)])}},L={view:function(t){var e=t.attrs,n=e.key,r=e.item,o=r.title,a=r.thumbnailUrl;return Object(l.default)(".grid-item.photo",{id:"photo-".concat(n)},[Object(l.default)("h1.left",o),Object(l.default)("img.right",{src:a,alt:"img"})])}},S=function(t){var o=t.attrs.item.completed;return{view:function(t){var e=t.attrs,n=e.key,r=e.item.title;return Object(l.default)(".grid-item.todo",{id:"todo-".concat(n),key:n},[Object(l.default)("h1.left",r),Object(l.default)("input[type=checkbox].right",{onclick:function(){o=!o},checked:o},"Done")])}}},T={view:function(t){var e=t.attrs,n=e.key,r=e.item,o=r.email,a=r.name,i=r.phone,c=r.username,u=r.website;return Object(l.default)(".grid-item.user",{id:"user-".concat(n),key:n},[Object(l.default)(".row",[Object(l.default)("p.left",{for:"name"},"name"),Object(l.default)("p.right.bold",{name:"name"},a)]),Object(l.default)(".row",[Object(l.default)("p.left",{for:"email"},"email"),Object(l.default)("p.right.bold",{name:"email"},o)]),Object(l.default)(".row",[Object(l.default)("p.left",{for:"phone"},"phone"),Object(l.default)("p.right.bold",{name:"phone"},i)]),Object(l.default)(".row",[Object(l.default)("p.left",{for:"username"},"username"),Object(l.default)("p.right.bold",{name:"username"},c)]),Object(l.default)(".row",[Object(l.default)("p.left",{for:"website"},"website"),Object(l.default)("p.right.bold",{name:"website"},u)])])}},A={view:function(t){var o,r=t.attrs.model,e=r.state.route,a=function(t){switch(t){case"/posts":return g;case"/comments":return y;case"/albums":return k;case"/photos":return L;case"/todos":return S;case"/users":return T}}(e),n=r.data[e].data;return Object(l.default)("section.component",{id:"component",route:r.state.route,onscroll:(o=r,function(t){var e=o.state.route,n=o.data[e].data.length,r=10*n*o.state.scrollPos;t.target.scrollTop-o.state.scrollPos>=r&&(o.state.scrollPos++,t.target.scrollTop,n<o.data[e].limit&&O(o)(e))})},0==n.length?Object(l.default)(".loader",w):n.map(function(t,e){return Object(l.default)(a,{oncreate:(n=e,function(t){var e=t.dom;return e.style.opacity=0,setTimeout(function(){e.classList.toggle("stretchRight"),e.style.opacity=1},100*n+20)}),key:e,item:t,model:r});var n}))}},P=function(o){return{onmatch:function(t,e){return n=e,(r=o).state.scrollPos=1,r.state.tabsShowing=!1,O(r)(n);var n,r},render:function(){return Object(l.default)(j,{model:o},Object(l.default)(A,{model:o}))}}},q=(n(2),n(3),n(4),document.body);function W(t){return t<668?"phone":t<920?"tablet":"desktop"}var x,R=window.innerWidth;r.a.state.profile=W(R),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./service-worker.js").then(function(t){console.log("SW registered: ",t)}).catch(function(t){console.log("SW registration failed: ",t)})}),function t(){var e=window.innerWidth;if(R!==e){R=e;var n=r.a.state.profile;r.a.state.profile=W(e),n!=r.a.state.profile&&l.default.redraw()}requestAnimationFrame(t)}(),l.default.route(q,"/posts",(x=r.a,{"/posts":P(x),"/comments":P(x),"/albums":P(x),"/photos":P(x),"/todos":P(x),"/users":P(x)}))}],[[5,1,2]]]);
//# sourceMappingURL=main-chunk.js.map