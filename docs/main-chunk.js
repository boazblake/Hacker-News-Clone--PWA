(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(t,a,r){"use strict";(function(o){r.d(a,"a",function(){return n});var t=["news","newest","ask","show","jobs","item/:key","user:/key"],e=t.reduce(function(t,e){return t[e]=function(n){return function(t){var e=n.split("/")[0];return"https://api.hnpwa.com/v0/".concat(e,"/").concat(t,".json")}}(e),t},{}),n={getComments:function(n){return function(e){return function(t){console.log(n),n.state.route=e,n.data[e]?n.data[e]:n.data[e]={data:[]},n.reqs.http(n)(n.reqs.urls["item/:key"](t))(e)}}},getData:function(n){return function(t){n.state.showComment=!1,console.log(n.reqs.urls,t),n.state.route=t;var e=n.getPath(t);n.data[t]?n.data[t]:n.data[t]={data:[]},n.reqs.http(n)(n.reqs.urls[e](n.state.page))(t)}},routes:t,getPath:function(t){return t.split("/")[1]},reqs:{urls:e,http:function(n){return function(t){return function(e){return o.request({url:t,method:"GET"}).then(function(t){return n.data[e].data=t,n})}}}},data:{},state:{url:"",route:"",scrollPos:1,page:1,profile:"",tabsShowing:!1,title:"",showComments:!1},changePage:function(e){return function(t){t.state.page=t.state.page+e,t.getData(t)(t.state.route)}},showComments:function(t){return t.state.showComments=!t.state.showComments},showTabs:function(t){return t.state.tabsShowing=!t.state.tabsShowing}}}).call(this,r(0))},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";n.r(e);var f=n(0),o=n(1),a=function(t){var e=t.attrs.model,n="M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z",o="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z",a=function(t){return f.default.render(t,Object(f.default)("path",{xmlns:"http://www.w3.org/2000/svg",d:e.state.tabsShowing?n:o}))};return{oncreate:function(t){var e=t.dom;return a(e)},onupdate:function(t){var e=t.dom;return a(e)},view:function(t){var e=t.attrs.model;return Object(f.default)("svg.btn.hamburger",{style:{fill:e.state.tabsShowing?"white":"inherit"},onclick:function(){return e.showTabs(e)}})}}};var r=function(n){return function(t){var e=t.dom;return e.style.opacity=0,setTimeout(function(){e.classList.toggle("stretchRight"),e.style.opacity=1},100*n+20)}},c=function(t){var e=t.dom;e.style.opacity=0,e.classList.toggle("slideRight"),e.style.opacity=1},u=function(n){return function(t){var e=t.dom;e.style.opacity=0,setTimeout(function(){e.classList.toggle("slideDown"),e.style.opacity=1},200*(n+1))}},i=function(n){return function(t){var e=t.dom;e.style.opacity=0,setTimeout(function(){e.classList.toggle(n),e.style.opacity=1},200)}},s={view:function(t){var e=t.attrs.model;return Object(f.default)(".btnContainer",[Object(f.default)("button.btn",{onclick:function(){return e.changePage(-1)(e)}},"Prev"),Object(f.default)("button.btn",{onclick:function(){return e.changePage(1)(e)}},"Next")])}},l={oncreate:i("slideDown"),view:function(t){var e=t.attrs.model;return Object(f.default)("header.header",{id:"header"},[Object(f.default)(a,{model:e}),e.state.showComment?Object(f.default)("button.btn",{onclick:function(){return console.log("back to ...",e)}},"Go BAck Up"):Object(f.default)(s,{model:e})])}},d={oncreate:i("slideUp"),view:function(){return Object(f.default)("footer.footer",{oncreate:u,id:"footer"},"content served from https://jsonplaceholder.typicode.com")}},m=n(7),b=function(t){var n=t.attrs.key;return{oncreate:c,view:function(t){var e=t.attrs.tab;return Object(f.default)("a.tab",{key:n,id:"".concat(e),href:"/".concat(e),oncreate:f.default.route.link},e)}}},h=function(t){var e=t.attrs.model,n=Object.keys(e.reqs.urls),o=Object(m.a)(["item/:key","user:/key"],n);return{oncreate:c,view:function(t){var n=t.attrs.model;return Object(f.default)("aside.sidebar slide-left",{id:"sidebar"},o.map(function(t,e){return Object(f.default)(b,{key:e,active:n.state.route==t,tab:t})}))}}},v={oncreate:c,onbeforeremove:function(t){var e=t.dom;return new Promise(function(){return e.classList.remove("slideRight"),setTimeout(function(){e.classList.add("reverseAnimation","slideRight")},200)})},view:function(t){var e=t.children;return Object(f.default)(".navigationModal",e)}},g={oncreate:i("slideUp"),view:function(t){var e=t.attrs.children;return Object(f.default)("section.content",{id:"content"},e)}},j=function(t){var n=t.attrs.model;return{view:function(t){var e=t.children;return Object(f.default)("section.layout",{id:"layout"},e?[Object(f.default)(l,{model:n}),"phone"==n.state.profile?n.state.tabsShowing?Object(f.default)(v,Object(f.default)(h,{model:n})):null:Object(f.default)(h,{model:n}),Object(f.default)(g,{model:n,children:e}),Object(f.default)(d,{model:n})]:[])}}},p=Object(f.default)(".holder",[Object(f.default)(".preloader",[Object(f.default)("div"),Object(f.default)("div"),Object(f.default)("div"),Object(f.default)("div"),Object(f.default)("div"),Object(f.default)("div"),Object(f.default)("div")])]),O={view:function(t){var e=t.attrs,n=e.showItem,o=e.item,a=o.comments_count,r=o.domain,c=o.id,u=o.points,i=o.time_ago,s=o.title,l=o.url,d=o.user;return Object(f.default)(".grid-item",{href:l,id:"".concat(c)},[Object(f.default)(".postTop",[Object(f.default)("h1.title",s),Object(f.default)("code.subTitle"," from ".concat(r))]),Object(f.default)(".postBottom",[Object(f.default)(".",[Object(f.default)("code.points","".concat(u)),Object(f.default)("a"," points by ".concat(d))]),Object(f.default)(".row",[Object(f.default)("code.left","".concat(i)),Object(f.default)("a.right",{oncreate:f.default.route.link,href:"/item/".concat(c),onclick:function(){return n(c,s)}},"".concat(a," comments"))])])])}},w=function(t){var e=t.attrs.model;return console.log("???",e),{view:function(t){var e=t.attrs,n=e.model,o=e.item,a=o.comments_count,r=o.id,c=o.time_ago,u=o.content,i=o.url,s=o.user;return Object(f.default)(".grid-item",{href:i,id:"".concat(r)},[Object(f.default)(".postTop",Object(f.default)("h1.title",n.state.title)),Object(f.default)(".postBottom",[Object(f.default)(".",[Object(f.default)("code",f.default.trust(u)),Object(f.default)("a","  by ".concat(s))]),Object(f.default)(".row",[Object(f.default)("code.left","".concat(c)),Object(f.default)("a.right",{oncreate:f.default.route.link,href:"/item/".concat(r),onclick:function(){return n.state.id=r}},"".concat(a," comments"))])])])}}},y=function(){return{view:function(t){var n=t.attrs.model,e=n.state.route,o=n.data[e].data,a=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";console.log(t),n.state.title=e,n.state.id=t,n.state.showComment=!n.state.showComment};return Object(f.default)("section.component",{id:"component",route:n.state.route,onscroll:function(a){return function(t){var e=a.state.route,n=a.data[e].data.length,o=10*n*a.state.scrollPos;t.target.scrollTop-a.state.scrollPos>=o&&(a.state.scrollPos++,t.target.scrollTop,n<a.data[e].limit&&a.getData(a)(e))}}(n)},function(t){return 0==t.length}(o)?Object(f.default)(".loader",p):function(t){return t.map}(o)?o.map(function(t,e){return Object(f.default)(O,{oncreate:r(e),key:e,item:t,model:n,showItem:a})}):function(t){return t.comments.map}(o)?[Object(f.default)(w,{style:{backgroundColor:"rgba(225, 102, 0, .9)"},item:o,model:n}),o.comments.map(function(t,e){return Object(f.default)(w,{oncreate:r(e),key:e,item:t,model:n})})]:"")}}},k=function(n){return{onmatch:function(t,e){!function(o){return function(t){o.state.page=1,o.state.tabsShowing=!1;var e=t.split("/")[2],n=t.split("/")[1];return e?o.getComments(o)(n)(e):o.getData(o)(t)}}(n)(e)},render:function(){return Object(f.default)(j,{model:n},Object(f.default)(y,{model:n}))}}},C=(n(2),n(3),n(4),document.body);function T(t){return t<668?"phone":t<920?"tablet":"desktop"}var L,P,q=window.innerWidth;o.a.state.profile=T(q),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("./service-worker.js").then(function(t){console.log("🧟 SW registered: ",t)}).catch(function(t){console.log("⚙️ SW registration failed: ",t)})}),function t(){var e=window.innerWidth;if(q!==e){q=e;var n=o.a.state.profile;o.a.state.profile=T(e),n!=o.a.state.profile&&f.default.redraw()}requestAnimationFrame(t)}(),f.default.route(C,"/news",(P=o.a).routes.reduce((L=P,function(n){return function(t,e){return t["/".concat(e)]=n(L),t}}(k)),{}))}],[[5,1,2]]]);
//# sourceMappingURL=main-chunk.js.map