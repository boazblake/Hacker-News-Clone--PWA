{"version":3,"sources":["webpack:///./Model.js","webpack:///./components/Hamburger.js","webpack:///./utils/animations.js","webpack:///./components/Header.js","webpack:///./components/Footer.js","webpack:///./components/Sidebar.js","webpack:///./components/Modal.js","webpack:///./components/Body.js","webpack:///./components/Layout.js","webpack:///./utils/helpers.js","webpack:///./App.js","webpack:///./index.js"],"names":["m","__webpack_require__","d","__webpack_exports__","model","routes","urls","reduce","req","item","start","limit","concat","url","reqs","http","route","request","method","extract","xhr","data","parseInt","getResponseHeader","JSON","parse","responseText","then","limits","state","scrollPos","profile","tabsShowing","showLimits","toggleLimits","showTabs","Hamburger","_ref","attrs","render","dom","xmlns","oncreate","_ref2","onupdate","_ref3","view","_ref4","style","fill","onclick","animateSidebarEntrance","opacity","classList","toggle","animateChildrenLimitsEntrance","idx","setTimeout","animate","dir","_ref5","Selector","onbeforeremove","_ref7","Promise","_toConsumableArray","children","reverse","map","child","display","key","ChangeLimits","Header","id","Footer","Tab","tab","href","link","split","Sidebar","tabs","Object","keys","active","Modal","_ref6","remove","add","Body","Layout","getData","path","length","IsLoading","Post","_ref$attrs","_ref$attrs$item","title","body","Comment","_ref2$attrs","_ref2$attrs$item","email","name","Album","_ref3$attrs","Photo","_ref4$attrs","_ref4$attrs$item","thumbnailUrl","src","alt","Todo","completed","_ref6$attrs","checked","User","_ref7$attrs","_ref7$attrs$item","phone","username","website","for","Component","_ref8","Item","type","makeItem","onscroll","e","setpoint","target","scrollTop","infiniteScroll","isEmpty","_item","animateComponentEntrance","toRoute","onmatch","_","init","root","document","getProfile","w","winW","window","innerWidth","navigator","addEventListener","serviceWorker","register","registration","console","log","catch","registrationError","checkWidth","lastProfile","redraw","requestAnimationFrame","makeRoutes"],"mappings":"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","file":"main-chunk.js","sourcesContent":["const routes = ['/posts', '/comments', '/albums', '/photos', '/todos', '/users']\r\n\r\nconst url = item => (start, limit) => `https://jsonplaceholder.typicode.com${item}?_start=${start}&_limit=${limit}`\r\n\r\nconst urls = routes.reduce((req, item) => {\r\n  req[item] = url(item)\r\n  return req\r\n}, {})\r\n\r\nconst http = model => url => route => m\r\n  .request({\r\n    url,\r\n    method: 'GET',\r\n    extract: xhr => {\r\n      model.data[route].limit = parseInt(xhr.getResponseHeader('x-total-count'))\r\n      return JSON.parse(xhr.responseText)\r\n    },\r\n  })\r\n  .then(data => {\r\n    model.data[route].data = model.data[route].data.concat(data)\r\n    return model\r\n  })\r\n\r\nconst reqs = {\r\n  urls,\r\n  http,\r\n}\r\n\r\nexport const model = {\r\n  routes,\r\n  reqs,\r\n  limits: [ 30, 40, 50, 60, 70, 80, 90, 100 ],\r\n  data: {},\r\n  state: { url: '', route: '', scrollPos: 1, limit: 30, profile: '', tabsShowing: false, showLimits: false },\r\n  toggleLimits: model =>\r\n    model.state.showLimits = !model.state.showLimits,\r\n  showTabs: model =>\r\n    model.state.tabsShowing = !model.state.tabsShowing,\r\n}\r\n","import m from 'mithril'\r\n\r\nconst Hamburger = ({ attrs: { model } }) => {\r\n  const state = {\r\n    close:\r\n      'M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z',\r\n    open: 'M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z',\r\n  }\r\n\r\n  const render = dom =>{\r\n    return m.render(\r\n      dom,\r\n      m('path', {\r\n        xmlns: 'http://www.w3.org/2000/svg',\r\n        d: model.state.tabsShowing ? state.close : state.open,\r\n      })\r\n    )}\r\n\r\n  return {\r\n    oncreate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    onupdate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    view: ({ attrs: { model } }) =>\r\n      m('svg.btn.hamburger', {\r\n        style:{fill: model.state.tabsShowing? 'white': 'inherit'},\r\n        onclick: () => model.showTabs(model),\r\n      }),\r\n  }\r\n}\r\n\r\nexport default Hamburger\r\n","export const animateComponentEntrance = idx => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  return setTimeout(() => {\r\n    dom.classList.toggle('stretchRight')\r\n    dom.style.opacity = 1\r\n  }, idx * 100 + 20)\r\n}\r\n\r\nexport const animateSidebarEntrance = ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  dom.classList.toggle('slideRight')\r\n  dom.style.opacity = 1\r\n}\r\n\r\nexport const animateChildrenEntrance = ({ dom }) => {\r\n  let children = [ ...dom.children ]\r\n\r\n  return children.map((child, idx) => {\r\n    child.style.opacity = 0\r\n    setTimeout(() => {\r\n      child.classList.toggle('slideRight')\r\n      child.style.opacity = 1\r\n    }, (idx + 1) * 10)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsEntrance = idx => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle('slideDown')\r\n    dom.style.opacity = 1\r\n  }, (idx + 1) * 200)\r\n}\r\n\r\nexport const animate = dir => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle(dir)\r\n    dom.style.opacity = 1\r\n  },  200)\r\n}\r\n\r\nexport const slideModalOut = ({ dom }) => {\r\n  return new Promise(() => {\r\n    dom.classList.remove('slideRight')\r\n    return setTimeout(()=> {\r\n      dom.classList.add('reverseAnimation', 'slideRight')\r\n    } , 200)\r\n  })\r\n}\r\n\r\n\r\nexport const animateChildrenLimitsExit = ({ dom }) =>\r\n  new Promise(() => {\r\n    [ ...dom.children ].reverse().map((child, idx) => {\r\n      return setTimeout(() => {\r\n        child.style.display = 'none'\r\n      }, idx * 100)\r\n    })\r\n  })\r\n\r\n","import m from 'mithril'\r\nimport Hamburger from './Hamburger.js'\r\nimport { animateChildrenLimitsEntrance, animateChildrenLimitsExit, animate } from '../utils/animations.js'\r\n\r\n\r\nconst Selector = {\r\n  onbeforeremove: animateChildrenLimitsExit,\r\n  view: ({ attrs: { model } }) =>\r\n    m(\r\n      '.limits',\r\n      model.limits.map((limit, idx) =>\r\n        m(\r\n          'button.btn.limit',\r\n          {\r\n            oncreate: animateChildrenLimitsEntrance(idx),\r\n            onclick: () => {\r\n              model.state.limit = limit\r\n              model.state.showLimits = false\r\n            },\r\n            key: idx,\r\n          },\r\n          limit\r\n        )\r\n      )\r\n    ),\r\n}\r\n\r\nconst ChangeLimits = {\r\n  view: ({ attrs: { model } }) =>\r\n    m('.changeLimits', [\r\n      m(\r\n        'button.changeLimitBtn',\r\n        {\r\n          onclick: () => model.toggleLimits(model),\r\n        },\r\n        'Change Limit'\r\n      ),\r\n      model.state.showLimits && m(Selector, { model }),\r\n    ]),\r\n}\r\n\r\nconst Header = {\r\n  oncreate: animate('slideDown'),\r\n  view: ({ attrs: { model } }) =>\r\n    m(\r\n      'header.header',\r\n      {\r\n        id: 'header',\r\n      },\r\n      [ m(Hamburger, { model }), m(ChangeLimits, { model }) ]\r\n    ),\r\n}\r\n\r\nexport default Header\r\n","import m from 'mithril'\r\nimport { animate, animateChildrenLimitsEntrance } from '../utils/animations.js'\r\n\r\n\r\nconst Footer = {\r\n  oncreate: animate('slideUp'),\r\n  view: () => m('footer.footer', {\r\n    oncreate:animateChildrenLimitsEntrance, id: 'footer',\r\n  },\r\n  'content served from https://jsonplaceholder.typicode.com',\r\n  ),\r\n}\r\n\r\nexport default Footer\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance } from '../utils/animations.js'\r\n\r\nconst Tab = ({ attrs: { key } }) => {\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { tab } }) =>\r\n      m(\r\n        'a.tab',\r\n        {\r\n          key,\r\n          id: `${tab}`,\r\n          href: `${tab}`,\r\n          oncreate: m.route.link,\r\n        },\r\n        tab.split('/')[1]\r\n      ),\r\n  }\r\n}\r\n\r\nconst Sidebar = ({ attrs: { model } }) => {\r\n  let tabs = Object.keys(model.reqs.urls)\r\n\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { model } }) =>\r\n      m(\r\n        'aside.sidebar slide-left',\r\n        {\r\n          id: 'sidebar',\r\n        },\r\n        tabs.map((tab, idx) =>\r\n          m(Tab, {\r\n            key: idx,\r\n            active: model.state.route == tab,\r\n            tab,\r\n          })\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Sidebar\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance,slideModalOut } from '../utils/animations.js'\r\n\r\nconst Modal = {\r\n  oncreate: animateSidebarEntrance,\r\n  onbeforeremove:slideModalOut,\r\n  view: ({ children }) => m('.navigationModal', children),\r\n}\r\n\r\nexport default Modal\r\n","import m from 'mithril'\r\nimport { animate } from '../utils/animations.js'\r\n\r\nconst Body = {\r\n  oncreate: animate('slideUp'),\r\n  view: ({attrs:{ children }}) => m('section.content', { id: 'content' }, children),\r\n}\r\n\r\nexport default Body\r\n","import m from 'mithril'\r\nimport Header from './Header.js'\r\nimport Footer from './Footer.js'\r\nimport Sidebar from './Sidebar.js'\r\nimport Modal from './Modal.js'\r\nimport Body from './Body.js'\r\n\r\nconst Layout = ({ attrs: { model } }) => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\r\n        'section.layout',\r\n        {\r\n          id: 'layout',\r\n        },\r\n        children\r\n          ? [\r\n            m(Header, { model }),\r\n            model.state.profile == 'phone'\r\n              ? model.state.tabsShowing ? m(Modal, m(Sidebar, { model })) : null\r\n              : m(Sidebar, { model }),\r\n            m(Body, { model, children}),\r\n            m(Footer, { model }),\r\n          ]\r\n          : []\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","export const isEmpty = data => data.length == 0\r\n\r\nexport const getData = model => path => {\r\n  model.state.route = path\r\n  model.data[path] ? model.data[path] : (model.data[path] = { data: [], limit: 1 })\r\n  let start = model.data[path].data.length\r\n  model.reqs.http(model)(model.reqs.urls[path](start, model.state.limit))(path)\r\n}\r\n\r\nexport const infiniteScroll = model => e => {\r\n  let route = model.state.route\r\n  let length = model.data[route].data.length\r\n  let setpoint = 10 * length * model.state.scrollPos\r\n  if (e.target.scrollTop - model.state.scrollPos >= setpoint) {\r\n    model.state.scrollPos++ + e.target.scrollTop\r\n    if (length < model.data[route].limit) {\r\n      getData(model)(route)\r\n    }\r\n  }\r\n}\r\n\r\nexport const init = model => path => {\r\n  model.state.scrollPos = 1\r\n  model.state.tabsShowing = false\r\n  return getData(model)(path)\r\n}\r\n\r\nexport const makeRoutes = model => toRoute => (routes, route) => {\r\n  routes[route] = toRoute(model)\r\n  return routes\r\n}\r\n","import m from 'mithril'\r\nimport Layout from './components/Layout.js'\r\nimport {makeRoutes, isEmpty, init, infiniteScroll, animateComponentEntrance } from './utils/index.js'\r\n\r\nconst IsLoading = m('.holder',  [\r\n  m('.preloader', [ m('div'), m('div'), m('div'), m('div'), m('div'), m('div'), m('div') ]),\r\n])\r\n\r\nconst Post = {\r\n  view: ({ attrs: { key, item: { title, body } } }) => {\r\n    return m(\r\n      '.grid-item.row.post',\r\n      {\r\n        id: `post-${key}`,\r\n      },\r\n      [ m('h1.left', title), m('p.right', body) ]\r\n    )\r\n  },\r\n}\r\n\r\nconst Comment = {\r\n  view: ({ attrs: { key, item: { email, name, body } } }) => {\r\n    return m(\r\n      '.grid-item.row.comment',\r\n      {\r\n        id: `comment-${key}`,\r\n      },\r\n      [ m('h1.left', name), m('p.left', email), m('p.left', body) ]\r\n    )\r\n  },\r\n}\r\n\r\nconst Album = {\r\n  view: ({ attrs: { key, item: { title } } }) => {\r\n    return m(\r\n      '.grid-item.album',\r\n      {\r\n        id: `album-${key}`,\r\n      },\r\n      [ m('h1', title) ]\r\n    )\r\n  },\r\n}\r\n\r\nconst Photo = {\r\n  view: ({ attrs: { key, item: { title, thumbnailUrl } } }) => {\r\n    return m(\r\n      '.grid-item.photo',\r\n      {\r\n        id: `photo-${key}`,\r\n      },\r\n      [\r\n        m('h1.left', title),\r\n        m('img.right', {\r\n          src: thumbnailUrl, alt: 'img',\r\n        }),\r\n      ]\r\n    )\r\n  },\r\n}\r\n\r\nconst Todo = ({ attrs: { item: { completed } } }) => {\r\n  return {\r\n    view: ({ attrs: { key, item: { title } } }) => {\r\n      return m(\r\n        '.grid-item.todo',\r\n        {\r\n          id: `todo-${key}`,\r\n          key,\r\n        },\r\n        [\r\n          m('h1.left', title),\r\n          m(\r\n            'input[type=checkbox].right',\r\n            {\r\n              onclick: () => {\r\n                completed = !completed\r\n              },\r\n              checked: completed,\r\n            },\r\n            'Done'\r\n          ),\r\n        ]\r\n      )\r\n    },\r\n  }\r\n}\r\n\r\nconst User = {\r\n  view: ({  attrs: { key, item: { email, name, phone, username, website } } }) =>\r\n    m(\r\n      '.grid-item.user',\r\n      {\r\n        id: `user-${key}`,\r\n        key,\r\n      },\r\n      [\r\n        m('.row', [ m('p.left', { for: 'name' }, 'name'), m('p.right.bold', { name: 'name' }, name) ]),\r\n        m('.row', [ m('p.left', { for: 'email' }, 'email'), m('p.right.bold', { name: 'email' }, email) ]),\r\n        m('.row', [ m('p.left', { for: 'phone' }, 'phone'), m('p.right.bold', { name: 'phone' }, phone) ]),\r\n        m('.row', [\r\n          m('p.left', { for: 'username' }, 'username'),\r\n          m('p.right.bold', { name: 'username' }, username),\r\n        ]),\r\n        m('.row', [ m('p.left', { for: 'website' }, 'website'), m('p.right.bold', { name: 'website' }, website) ]),\r\n      ]\r\n    ),\r\n}\r\n\r\nconst makeItem = type => {\r\n  switch (type) {\r\n  case '/posts':\r\n    return Post\r\n  case '/comments':\r\n    return Comment\r\n  case '/albums':\r\n    return Album\r\n  case '/photos':\r\n    return Photo\r\n  case '/todos':\r\n    return Todo\r\n  case '/users':\r\n    return User\r\n  }\r\n}\r\n\r\n\r\n\r\nconst Component = {\r\n  view: ({ attrs: { model } }) => {\r\n    let route = model.state.route\r\n    let Item = makeItem(route)\r\n    let data = model.data[route].data\r\n\r\n    return m(\r\n      'section.component',\r\n      {\r\n        id: 'component',\r\n        route: model.state.route,\r\n        onscroll: infiniteScroll(model),\r\n      },\r\n      isEmpty(data)\r\n        ? m('.loader', IsLoading)\r\n        : data.map((_item, idx) =>\r\n          m(Item, {\r\n            oncreate: animateComponentEntrance(idx),\r\n            key: idx,\r\n            item: _item,\r\n            model,\r\n          })\r\n        )\r\n    )\r\n  },\r\n}\r\n\r\n\r\nconst toRoute = model => ({\r\n  onmatch: (_, path) =>\r\n    init(model)(path),\r\n  render: () =>\r\n    m(\r\n      Layout,\r\n      {\r\n        model,\r\n      },\r\n      m(Component, {\r\n        model,\r\n      })\r\n    ),\r\n})\r\n\r\nexport const App = model =>\r\n  model.routes.reduce(makeRoutes(model)(toRoute),{})\r\n","import m from 'mithril'\r\nconst root = document.body\r\nimport { model } from './Model.js'\r\n\r\nimport { App } from './App.js'\r\n\r\n\r\nif (module.hot) {\r\n  module.hot.accept()\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!')\r\n}\r\n\r\n// Styles\r\nimport './index.css'\r\nimport './utils/animations.css'\r\nimport './utils/loader.css'\r\n\r\nfunction getProfile(w) {\r\n  if (w < 668) return 'phone'\r\n  if (w < 920) return 'tablet'\r\n  return 'desktop'\r\n}\r\n\r\nlet winW = window.innerWidth\r\nmodel.state.profile = getProfile(winW)\r\n\r\nfunction checkWidth() {\r\n  const w = window.innerWidth\r\n  if (winW !== w) {\r\n    winW = w\r\n    var lastProfile = model.state.profile\r\n    model.state.profile = getProfile(w)\r\n    if (lastProfile != model.state.profile) m.redraw()\r\n  }\r\n  requestAnimationFrame(checkWidth)\r\n}\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker.register('./service-worker.js').then(registration => {\r\n      console.log('🧟 SW registered: ', registration)\r\n    }).catch(registrationError => {\r\n      console.log('⚙️ SW registration failed: ', registrationError)\r\n    })\r\n  })\r\n}\r\n\r\n\r\ncheckWidth()\r\n\r\nm.route(root, '/posts', App(model))\r\n"],"sourceRoot":""}