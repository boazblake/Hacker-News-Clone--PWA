{"version":3,"sources":["webpack:///./Model.js","webpack:///./App.js","webpack:///./Layout.js","webpack:///./index.js"],"names":["m","__webpack_require__","d","__webpack_exports__","model","sidebar","isOpen","modify","sb","numItems","data","state","url","route","reqs","urls","reduce","req","item","concat","http","method","arguments","length","undefined","request","userVm","_ref","address","key","itemVm","_ref2","Tab","onhover","hover","e","stopPropagation","view","_ref$attrs","attrs","active","tab","idx","id","href","oncreate","link","onmouseover","onmouseout","style","textDecoration","flexBasis","borderTop","justifyContent","split","Heading","tabs","Object","keys","_ref3","display","alignContent","height","padding","map","Footer","_ref4","JSON","stringify","Sidebar","_ref6","backgroundColor","flexGrow","width","onclick","Body","_ref7","_ref7$attrs","children","Layout","_ref8","console","log","_ref9","getData","path","then","Item","dto","margin","Container","flexFlow","overflowY","overflowX","root","document","getElementById","/posts","onmatch","_","render","/comments","/albums","/photos","/todos","a","/users"],"mappings":"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","file":"main-chunk.js","sourcesContent":["const url = item => `https://jsonplaceholder.typicode.com${item}`\n\nconst http = url => method => (data = null) => m.request({ url, method, data })\n\nconst options = [ '/posts', '/comments', '/albums', '/photos', '/todos', '/users' ]\n\nconst urls = options.reduce((req, item) => {\n  req[item] = url(item)\n  return req\n}, {})\n\nconst reqs = {\n  urls,\n  http,\n}\n\nconst userVm = ({ address, key }) => ({\n  address,\n  key,\n})\n\nconst itemVm = ({ item, key }) => ({\n  item,\n  key,\n})\n\nexport const model = {\n  sidebar: { isOpen: true, modify: sb => !sb.isOpen },\n  numItems: 1,\n  data: {},\n  state: { url: '', route: '' },\n  reqs,\n  userVm,\n  itemVm,\n}\n","import m from 'mithril'\nimport Layout from './Layout.js'\n\nconst isEmpty = data => data.length == 0\n\nconst toVM = item => {\n  console.log(item)\n  return item\n}\n\nconst loadData = model => url => route =>\n  m.request({ url, method: 'GET' }).then(data => {\n    model.data[route] = data\n  })\n\nconst getData = model => path => {\n  model.state.route = path\n  model.data[path] ? model.data[path] : (model.data[path] = [])\n  if (isEmpty(model.data[path])) loadData(model)(model.reqs.urls[path])(path)\n  return model\n}\n\nconst Item = ({ attrs: item, idx }) => {\n  let dto = JSON.stringify(item, null, 4)\n  // console.log('dto', dto)\n  return {\n    view: ({ attrs: item, idx, model }) => {\n      return m(\n        '',\n        {\n          style: {\n            flexGrow: 1,\n            margin: '10px',\n            backgroundColor: 'rgba(41,18,185 ,.2)',\n            width: '150px',\n            height: '150px',\n          },\n        },\n        dto\n      )\n    },\n  }\n}\n\nconst Container = () => {\n  return {\n    view: ({ attrs: { model } }) =>\n      m(\n        'section.container',\n        {\n          style: {\n            display: 'flex',\n            flexFlow: 'wrap',\n            justifyContent: 'space-around',\n            overflowY: 'scroll',\n            overflowX: 'hidden',\n            padding: '10px',\n            backgroundColor: 'rgba(41,128,185 ,.1)',\n            height: '75vh',\n          },\n        },\n        model.data[model.state.route].map((item, idx) => {\n          return m(Item, { key: idx, item })\n        })\n      ),\n  }\n}\n\nexport const App = model => {\n  return {\n    '/posts': {\n      onmatch: (_, path) => getData(model)(path),\n      render: () => m(Layout, { model }, m(Container, { model })),\n    },\n    '/comments': {\n      onmatch: (_, path) => getData(model)(path),\n      render: () => m(Layout, { model }, m(Container, { model })),\n    },\n    '/albums': {\n      onmatch: (_, path) => getData(model)(path),\n      render: () => m(Layout, { model }, m(Container, { model })),\n    },\n    '/photos': {\n      onmatch: (_, path) => getData(model)(path),\n      render: () => m(Layout, { model }, m(Container, { model })),\n    },\n    '/todos': {\n      onmatch: (_, path) => getData(model)(path),\n      render: a => {\n        console.log('????', a)\n        return m(Layout, { model }, m(Container, { model }))\n      },\n    },\n    '/users': {\n      onmatch: (_, path) => getData(model)(path),\n      render: () => m(Layout, { model }, m(Container, { model })),\n    },\n  }\n}\n","import m from 'mithril'\n\nconst Tab = () => {\n  const state = { onhover: false }\n  const hover = e => {\n    e.stopPropagation()\n    state.onhover = !state.onhover\n  }\n\n  return {\n    view: ({ attrs: { active, tab, idx } }) =>\n      m(\n        'a.grid-item',\n        {\n          id: idx,\n          href: `${tab}`,\n          oncreate: m.route.link,\n          onmouseover: hover,\n          onmouseout: hover,\n          style: {\n            // backgroundColor: state.onhover ? 'rgba(41,128,185 ,.3)' : '',\n            textDecoration: 'none',\n            // display: 'flex',\n            flexBasis: '20%',\n            borderTop: active\n              ? '4px solid rgba(41,128,185 ,1)'\n              : !active && state.onhover ? '4px solid rgba(41,128,185 ,.5)' : '',\n            // height: '40px',\n            // minWidth: '80px',\n            justifyContent: 'center',\n          },\n        },\n        tab.split('/')[1]\n      ),\n  }\n}\n\nconst Heading = ({ attrs: { model } }) => {\n  let tabs = Object.keys(model.reqs.urls)\n  return {\n    view: ({ attrs: { model } }) =>\n      m(\n        'header',\n        {\n          style: {\n            display: 'flex',\n            alignContent: 'center',\n            justifyContent: 'flex-start',\n            height: '10vh',\n            padding: '35px 20%',\n          },\n        },\n        tabs.map((tab, idx) => m(Tab, { key: idx, active: model.state.route == tab, tab, idx }))\n      ),\n  }\n}\n\nconst Footer = () => {\n  return {\n    view: ({ attrs: { model } }) =>\n      m('footer', { style: { height: '20vh' } }, m('pre', JSON.stringify(model.data, null, 4))),\n  }\n}\n\nconst SidebarButton = () => {\n  return {\n    view: ({ attrs: action, name }) =>\n      m(\n        'button',\n        {\n          style: { width: '100%', height: '40px' },\n          onclick: action,\n        },\n        name\n      ),\n  }\n}\n\nconst Sidebar = ({ attrs: { model } }) => {\n  return {\n    view: () =>\n      m(\n        'aside.slide-left',\n        {\n          style: {\n            backgroundColor: 'rgba(41,128,185 ,0.9)',\n            flexGrow: 1,\n            width: model.sidebar.isOpen ? '200px' : '60px',\n            height: '75vh',\n          },\n        },\n        [\n          m(\n            'button',\n            {\n              style: { width: '100%', height: '40px' },\n              onclick: () => {\n                model.sidebar.isOpen = !model.sidebar.isOpen\n              },\n            },\n            model.sidebar.isOpen ? '<<' : '>>'\n          ),\n          m(\n            'button',\n            {\n              style: { width: '100%', height: '40px' },\n              onclick: () => {\n                model.numItems++\n              },\n            },\n            model.sidebar.isOpen ? 'ADD' : '+'\n          ),\n          m(\n            'button',\n            {\n              style: { width: '100%', height: '40px' },\n              onclick: () => {\n                model.numItems--\n              },\n            },\n            model.sidebar.isOpen ? 'REMOVE' : '-'\n          ),\n        ]\n      ),\n  }\n}\n\nconst Body = () => {\n  return {\n    view: ({ attrs: { model, children } }) =>\n      m('section.body', { style: { display: 'flex' } }, [\n        m(Sidebar, { model }),\n        m('.container', { id: 'container', style: { width: '100%', height: '80vh' } }, children),\n      ]),\n  }\n}\n\nconst Layout = ({ children, attrs: { model } }) => {\n  console.log(children)\n  return {\n    view: ({ children }) => [ m(Heading, { model }), m(Body, { model, children }), m(Footer, { model }) ],\n  }\n}\n\nexport default Layout\n","// index.jsx\nimport m from 'mithril'\nconst root = document.getElementById('app')\nimport { model } from './Model.js'\nimport { App } from './App.js'\n\nif (module.hot) {\n  module.hot.accept()\n}\n\nif (process.env.NODE_ENV !== 'production') {\n  console.log('Looks like we are in development mode!')\n}\n\n// Styles\nimport './index.css'\nimport './animations.css'\n\nm.route(root, '/posts', App(model))\n"],"sourceRoot":""}