var ne=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function ee(t,n,a,u,c,o){return{tag:t,key:n,attrs:a,children:u,text:c,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}ee.normalize=function(t){return Array.isArray(t)?ee("[",void 0,void 0,ee.normalizeChildren(t),void 0,void 0):t==null||typeof t=="boolean"?null:typeof t=="object"?t:ee("#",void 0,void 0,String(t),void 0,void 0)};ee.normalizeChildren=function(t){var n=[];if(t.length){for(var a=t[0]!=null&&t[0].key!=null,u=1;u<t.length;u++)if((t[u]!=null&&t[u].key!=null)!==a)throw new TypeError("Vnodes must either always have keys or never have keys!");for(var u=0;u<t.length;u++)n[u]=ee.normalize(t[u])}return n};var J=ee,Ct=J,nt=function(){var t=arguments[this],n=this+1,a;if(t==null?t={}:(typeof t!="object"||t.tag!=null||Array.isArray(t))&&(t={},n=this),arguments.length===n+1)a=arguments[n],Array.isArray(a)||(a=[a]);else for(a=[];n<arguments.length;)a.push(arguments[n++]);return Ct("",t.key,t,a)},it=J,jt=nt,vt=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,at={},ae={}.hasOwnProperty;function He(t){for(var n in t)if(ae.call(t,n))return!1;return!0}function Nt(t){for(var n,a="div",u=[],c={};n=vt.exec(t);){var o=n[1],h=n[2];if(o===""&&h!=="")a=h;else if(o==="#")c.id=h;else if(o===".")u.push(h);else if(n[3][0]==="["){var s=n[6];s&&(s=s.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),n[4]==="class"?u.push(s):c[n[4]]=s===""?s:s||!0}}return u.length>0&&(c.className=u.join(" ")),at[t]={tag:a,attrs:c}}function Pt(t,n){var a=n.attrs,u=it.normalizeChildren(n.children),c=ae.call(a,"class"),o=c?a.class:a.className;if(n.tag=t.tag,n.attrs=null,n.children=void 0,!He(t.attrs)&&!He(a)){var h={};for(var s in a)ae.call(a,s)&&(h[s]=a[s]);a=h}for(var s in t.attrs)ae.call(t.attrs,s)&&s!=="className"&&!ae.call(a,s)&&(a[s]=t.attrs[s]);(o!=null||t.attrs.className!=null)&&(a.className=o!=null?t.attrs.className!=null?String(t.attrs.className)+" "+String(o):o:t.attrs.className!=null?t.attrs.className:null),c&&(a.class=null);for(var s in a)if(ae.call(a,s)&&s!=="key"){n.attrs=a;break}return Array.isArray(u)&&u.length===1&&u[0]!=null&&u[0].tag==="#"?n.text=u[0].children:n.children=u,n}function $t(t){if(t==null||typeof t!="string"&&typeof t!="function"&&typeof t.view!="function")throw Error("The selector must be either a string or a component.");var n=jt.apply(1,arguments);return typeof t=="string"&&(n.children=it.normalizeChildren(n.children),t!=="[")?Pt(at[t]||Nt(t),n):(n.tag=t,n)}var ut=$t,Tt=J,zt=function(t){return t==null&&(t=""),Tt("<",void 0,void 0,t,void 0,void 0)},qt=J,It=nt,Rt=function(){var t=It.apply(0,arguments);return t.tag="[",t.children=qt.normalizeChildren(t.children),t},Te=ut;Te.trust=zt;Te.fragment=Rt;var Lt=Te,le={exports:{}},R=function(t){if(!(this instanceof R))throw new Error("Promise must be called with `new`");if(typeof t!="function")throw new TypeError("executor must be a function");var n=this,a=[],u=[],c=p(a,!0),o=p(u,!1),h=n._instance={resolvers:a,rejectors:u},s=typeof setImmediate=="function"?setImmediate:setTimeout;function p(w,b){return function d(g){var O;try{if(b&&g!=null&&(typeof g=="object"||typeof g=="function")&&typeof(O=g.then)=="function"){if(g===n)throw new TypeError("Promise can't be resolved w/ itself");y(O.bind(g))}else s(function(){!b&&w.length===0&&console.error("Possible unhandled promise rejection:",g);for(var A=0;A<w.length;A++)w[A](g);a.length=0,u.length=0,h.state=b,h.retry=function(){d(g)}})}catch(A){o(A)}}}function y(w){var b=0;function d(O){return function(A){b++>0||O(A)}}var g=d(o);try{w(d(c),g)}catch(O){g(O)}}y(t)};R.prototype.then=function(t,n){var a=this,u=a._instance;function c(p,y,w,b){y.push(function(d){if(typeof p!="function")w(d);else try{o(p(d))}catch(g){h&&h(g)}}),typeof u.retry=="function"&&b===u.state&&u.retry()}var o,h,s=new R(function(p,y){o=p,h=y});return c(t,u.resolvers,o,!0),c(n,u.rejectors,h,!1),s};R.prototype.catch=function(t){return this.then(null,t)};R.prototype.finally=function(t){return this.then(function(n){return R.resolve(t()).then(function(){return n})},function(n){return R.resolve(t()).then(function(){return R.reject(n)})})};R.resolve=function(t){return t instanceof R?t:new R(function(n){n(t)})};R.reject=function(t){return new R(function(n,a){a(t)})};R.all=function(t){return new R(function(n,a){var u=t.length,c=0,o=[];if(t.length===0)n([]);else for(var h=0;h<t.length;h++)(function(s){function p(y){c++,o[s]=y,c===u&&n(o)}t[s]!=null&&(typeof t[s]=="object"||typeof t[s]=="function")&&typeof t[s].then=="function"?t[s].then(p,a):p(t[s])})(h)})};R.race=function(t){return new R(function(n,a){for(var u=0;u<t.length;u++)t[u].then(n,a)})};var ft=R,fe=ft;typeof window!="undefined"?(typeof window.Promise=="undefined"?window.Promise=fe:window.Promise.prototype.finally||(window.Promise.prototype.finally=fe.prototype.finally),le.exports=window.Promise):typeof ne!="undefined"?(typeof ne.Promise=="undefined"?ne.Promise=fe:ne.Promise.prototype.finally||(ne.Promise.prototype.finally=fe.prototype.finally),le.exports=ne.Promise):le.exports=fe;var ie=J,St=function(t){var n=t&&t.document,a,u={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function c(r){return r.attrs&&r.attrs.xmlns||u[r.tag]}function o(r,e){if(r.state!==e)throw new Error("`vnode.state` must not be modified")}function h(r){var e=r.state;try{return this.apply(e,arguments)}finally{o(r,e)}}function s(){try{return n.activeElement}catch{return null}}function p(r,e,i,f,l,m,E){for(var _=i;_<f;_++){var x=e[_];x!=null&&y(r,x,l,E,m)}}function y(r,e,i,f,l){var m=e.tag;if(typeof m=="string")switch(e.state={},e.attrs!=null&&xe(e.attrs,e,i),m){case"#":w(r,e,l);break;case"<":d(r,e,f,l);break;case"[":g(r,e,i,f,l);break;default:O(r,e,i,f,l)}else C(r,e,i,f,l)}function w(r,e,i){e.dom=n.createTextNode(e.children),Y(r,e.dom,i)}var b={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function d(r,e,i,f){var l=e.children.match(/^\s*?<(\w+)/im)||[],m=n.createElement(b[l[1]]||"div");i==="http://www.w3.org/2000/svg"?(m.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",m=m.firstChild):m.innerHTML=e.children,e.dom=m.firstChild,e.domSize=m.childNodes.length,e.instance=[];for(var E=n.createDocumentFragment(),_;_=m.firstChild;)e.instance.push(_),E.appendChild(_);Y(r,E,f)}function g(r,e,i,f,l){var m=n.createDocumentFragment();if(e.children!=null){var E=e.children;p(m,E,0,E.length,i,null,f)}e.dom=m.firstChild,e.domSize=m.childNodes.length,Y(r,m,l)}function O(r,e,i,f,l){var m=e.tag,E=e.attrs,_=E&&E.is;f=c(e)||f;var x=f?_?n.createElementNS(f,m,{is:_}):n.createElementNS(f,m):_?n.createElement(m,{is:_}):n.createElement(m);if(e.dom=x,E!=null&&gt(e,E,f),Y(r,x,l),!k(e)&&(e.text!=null&&(e.text!==""?x.textContent=e.text:e.children=[ie("#",void 0,void 0,e.text,void 0,void 0)]),e.children!=null)){var v=e.children;p(x,v,0,v.length,i,null,f),e.tag==="select"&&E!=null&&bt(e,E)}}function A(r,e){var i;if(typeof r.tag.view=="function"){if(r.state=Object.create(r.tag),i=r.state.view,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0}else{if(r.state=void 0,i=r.tag,i.$$reentrantLock$$!=null)return;i.$$reentrantLock$$=!0,r.state=r.tag.prototype!=null&&typeof r.tag.prototype.view=="function"?new r.tag(r):r.tag(r)}if(xe(r.state,r,e),r.attrs!=null&&xe(r.attrs,r,e),r.instance=ie.normalize(h.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");i.$$reentrantLock$$=null}function C(r,e,i,f,l){A(e,i),e.instance!=null?(y(r,e.instance,i,f,l),e.dom=e.instance.dom,e.domSize=e.dom!=null?e.instance.domSize:0):e.domSize=0}function j(r,e,i,f,l,m){if(!(e===i||e==null&&i==null))if(e==null||e.length===0)p(r,i,0,i.length,f,l,m);else if(i==null||i.length===0)B(r,e,0,e.length);else{var E=e[0]!=null&&e[0].key!=null,_=i[0]!=null&&i[0].key!=null,x=0,v=0;if(!E)for(;v<e.length&&e[v]==null;)v++;if(!_)for(;x<i.length&&i[x]==null;)x++;if(_===null&&E==null)return;if(E!==_)B(r,e,v,e.length),p(r,i,x,i.length,f,l,m);else if(_){for(var U=e.length-1,I=i.length-1,he,F,T,S,P,Ee;U>=v&&I>=x&&(S=e[U],P=i[I],S.key===P.key);)S!==P&&z(r,S,P,f,l,m),P.dom!=null&&(l=P.dom),U--,I--;for(;U>=v&&I>=x&&(F=e[v],T=i[x],F.key===T.key);)v++,x++,F!==T&&z(r,F,T,f,V(e,v,l),m);for(;U>=v&&I>=x&&!(x===I||F.key!==P.key||S.key!==T.key);)Ee=V(e,v,l),H(r,S,Ee),S!==T&&z(r,S,T,f,Ee,m),++x<=--I&&H(r,F,l),F!==P&&z(r,F,P,f,l,m),P.dom!=null&&(l=P.dom),v++,U--,S=e[U],P=i[I],F=e[v],T=i[x];for(;U>=v&&I>=x&&S.key===P.key;)S!==P&&z(r,S,P,f,l,m),P.dom!=null&&(l=P.dom),U--,I--,S=e[U],P=i[I];if(x>I)B(r,e,v,U+1);else if(v>U)p(r,i,x,I+1,f,l,m);else{var _t=l,De=I-x+1,ue=new Array(De),_e=0,$=0,Ce=2147483647,je=0,he,ve;for($=0;$<De;$++)ue[$]=-1;for($=I;$>=x;$--){he==null&&(he=K(e,v,U+1)),P=i[$];var re=he[P.key];re!=null&&(Ce=re<Ce?re:-1,ue[$-x]=re,S=e[re],e[re]=null,S!==P&&z(r,S,P,f,l,m),P.dom!=null&&(l=P.dom),je++)}if(l=_t,je!==U-v+1&&B(r,e,v,U+1),je===0)p(r,i,x,I+1,f,l,m);else if(Ce===-1)for(ve=Z(ue),_e=ve.length-1,$=I;$>=x;$--)T=i[$],ue[$-x]===-1?y(r,T,f,m,l):ve[_e]===$-x?_e--:H(r,T,l),T.dom!=null&&(l=i[$].dom);else for($=I;$>=x;$--)T=i[$],ue[$-x]===-1&&y(r,T,f,m,l),T.dom!=null&&(l=i[$].dom)}}else{var de=e.length<i.length?e.length:i.length;for(x=x<v?x:v;x<de;x++)F=e[x],T=i[x],!(F===T||F==null&&T==null)&&(F==null?y(r,T,f,m,V(e,x+1,l)):T==null?se(r,F):z(r,F,T,f,V(e,x+1,l),m));e.length>de&&B(r,e,x,e.length),i.length>de&&p(r,i,x,i.length,f,l,m)}}}function z(r,e,i,f,l,m){var E=e.tag,_=i.tag;if(E===_){if(i.state=e.state,i.events=e.events,Et(i,e))return;if(typeof E=="string")switch(i.attrs!=null&&Oe(i.attrs,i,f),E){case"#":W(e,i);break;case"<":G(r,e,i,m,l);break;case"[":q(r,e,i,f,l,m);break;default:N(e,i,f,m)}else L(r,e,i,f,l,m)}else se(r,e),y(r,i,f,m,l)}function W(r,e){r.children.toString()!==e.children.toString()&&(r.dom.nodeValue=e.children),e.dom=r.dom}function G(r,e,i,f,l){e.children!==i.children?(Se(r,e),d(r,i,f,l)):(i.dom=e.dom,i.domSize=e.domSize,i.instance=e.instance)}function q(r,e,i,f,l,m){j(r,e.children,i.children,f,l,m);var E=0,_=i.children;if(i.dom=null,_!=null){for(var x=0;x<_.length;x++){var v=_[x];v!=null&&v.dom!=null&&(i.dom==null&&(i.dom=v.dom),E+=v.domSize||1)}E!==1&&(i.domSize=E)}}function N(r,e,i,f){var l=e.dom=r.dom;f=c(e)||f,e.tag==="textarea"&&(e.attrs==null&&(e.attrs={}),e.text!=null&&(e.attrs.value=e.text,e.text=void 0)),At(e,r.attrs,e.attrs,f),k(e)||(r.text!=null&&e.text!=null&&e.text!==""?r.text.toString()!==e.text.toString()&&(r.dom.firstChild.nodeValue=e.text):(r.text!=null&&(r.children=[ie("#",void 0,void 0,r.text,void 0,r.dom.firstChild)]),e.text!=null&&(e.children=[ie("#",void 0,void 0,e.text,void 0,void 0)]),j(l,r.children,e.children,i,null,f)))}function L(r,e,i,f,l,m){if(i.instance=ie.normalize(h.call(i.state.view,i)),i.instance===i)throw Error("A view cannot return the vnode it received as argument");Oe(i.state,i,f),i.attrs!=null&&Oe(i.attrs,i,f),i.instance!=null?(e.instance==null?y(r,i.instance,f,m,l):z(r,e.instance,i.instance,f,l,m),i.dom=i.instance.dom,i.domSize=i.instance.domSize):e.instance!=null?(se(r,e.instance),i.dom=void 0,i.domSize=0):(i.dom=e.dom,i.domSize=e.domSize)}function K(r,e,i){for(var f=Object.create(null);e<i;e++){var l=r[e];if(l!=null){var m=l.key;m!=null&&(f[m]=e)}}return f}var D=[];function Z(r){for(var e=[0],i=0,f=0,l=0,m=D.length=r.length,l=0;l<m;l++)D[l]=r[l];for(var l=0;l<m;++l)if(r[l]!==-1){var E=e[e.length-1];if(r[E]<r[l]){D[l]=E,e.push(l);continue}for(i=0,f=e.length-1;i<f;){var _=(i>>>1)+(f>>>1)+(i&f&1);r[e[_]]<r[l]?i=_+1:f=_}r[l]<r[e[i]]&&(i>0&&(D[l]=e[i-1]),e[i]=l)}for(i=e.length,f=e[i-1];i-- >0;)e[i]=f,f=D[f];return D.length=0,e}function V(r,e,i){for(;e<r.length;e++)if(r[e]!=null&&r[e].dom!=null)return r[e].dom;return i}function H(r,e,i){var f=n.createDocumentFragment();ce(r,f,e),Y(r,f,i)}function ce(r,e,i){for(;i.dom!=null&&i.dom.parentNode===r;){if(typeof i.tag!="string"){if(i=i.instance,i!=null)continue}else if(i.tag==="<")for(var f=0;f<i.instance.length;f++)e.appendChild(i.instance[f]);else if(i.tag!=="[")e.appendChild(i.dom);else if(i.children.length===1){if(i=i.children[0],i!=null)continue}else for(var f=0;f<i.children.length;f++){var l=i.children[f];l!=null&&ce(r,e,l)}break}}function Y(r,e,i){i!=null?r.insertBefore(e,i):r.appendChild(e)}function k(r){if(r.attrs==null||r.attrs.contenteditable==null&&r.attrs.contentEditable==null)return!1;var e=r.children;if(e!=null&&e.length===1&&e[0].tag==="<"){var i=e[0].children;r.dom.innerHTML!==i&&(r.dom.innerHTML=i)}else if(r.text!=null||e!=null&&e.length!==0)throw new Error("Child node of a contenteditable must be trusted");return!0}function B(r,e,i,f){for(var l=i;l<f;l++){var m=e[l];m!=null&&se(r,m)}}function se(r,e){var i=0,f=e.state,l,m;if(typeof e.tag!="string"&&typeof e.state.onbeforeremove=="function"){var E=h.call(e.state.onbeforeremove,e);E!=null&&typeof E.then=="function"&&(i=1,l=E)}if(e.attrs&&typeof e.attrs.onbeforeremove=="function"){var E=h.call(e.attrs.onbeforeremove,e);E!=null&&typeof E.then=="function"&&(i|=2,m=E)}if(o(e,f),!i)oe(e),ye(r,e);else{if(l!=null){var _=function(){i&1&&(i&=2,i||x())};l.then(_,_)}if(m!=null){var _=function(){i&2&&(i&=1,i||x())};m.then(_,_)}}function x(){o(e,f),oe(e),ye(r,e)}}function Se(r,e){for(var i=0;i<e.instance.length;i++)r.removeChild(e.instance[i])}function ye(r,e){for(;e.dom!=null&&e.dom.parentNode===r;){if(typeof e.tag!="string"){if(e=e.instance,e!=null)continue}else if(e.tag==="<")Se(r,e);else{if(e.tag!=="["&&(r.removeChild(e.dom),!Array.isArray(e.children)))break;if(e.children.length===1){if(e=e.children[0],e!=null)continue}else for(var i=0;i<e.children.length;i++){var f=e.children[i];f!=null&&ye(r,f)}}break}}function oe(r){if(typeof r.tag!="string"&&typeof r.state.onremove=="function"&&h.call(r.state.onremove,r),r.attrs&&typeof r.attrs.onremove=="function"&&h.call(r.attrs.onremove,r),typeof r.tag!="string")r.instance!=null&&oe(r.instance);else{var e=r.children;if(Array.isArray(e))for(var i=0;i<e.length;i++){var f=e[i];f!=null&&oe(f)}}}function gt(r,e,i){for(var f in e)ge(r,f,null,e[f],i)}function ge(r,e,i,f,l){if(!(e==="key"||e==="is"||f==null||we(e)||i===f&&!xt(r,e)&&typeof f!="object")){if(e[0]==="o"&&e[1]==="n")return Fe(r,e,f);if(e.slice(0,6)==="xlink:")r.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),f);else if(e==="style")Ue(r.dom,i,f);else if(Me(r,e,l)){if(e==="value"&&((r.tag==="input"||r.tag==="textarea")&&r.dom.value===""+f&&r.dom===s()||r.tag==="select"&&i!==null&&r.dom.value===""+f||r.tag==="option"&&i!==null&&r.dom.value===""+f))return;r.tag==="input"&&e==="type"?r.dom.setAttribute(e,f):r.dom[e]=f}else typeof f=="boolean"?f?r.dom.setAttribute(e,""):r.dom.removeAttribute(e):r.dom.setAttribute(e==="className"?"class":e,f)}}function wt(r,e,i,f){if(!(e==="key"||e==="is"||i==null||we(e)))if(e[0]==="o"&&e[1]==="n"&&!we(e))Fe(r,e,void 0);else if(e==="style")Ue(r.dom,i,null);else if(Me(r,e,f)&&e!=="className"&&!(e==="value"&&(r.tag==="option"||r.tag==="select"&&r.dom.selectedIndex===-1&&r.dom===s()))&&!(r.tag==="input"&&e==="type"))r.dom[e]=null;else{var l=e.indexOf(":");l!==-1&&(e=e.slice(l+1)),i!==!1&&r.dom.removeAttribute(e==="className"?"class":e)}}function bt(r,e){if("value"in e)if(e.value===null)r.dom.selectedIndex!==-1&&(r.dom.value=null);else{var i=""+e.value;(r.dom.value!==i||r.dom.selectedIndex===-1)&&(r.dom.value=i)}"selectedIndex"in e&&ge(r,"selectedIndex",null,e.selectedIndex,void 0)}function At(r,e,i,f){if(i!=null)for(var l in i)ge(r,l,e&&e[l],i[l],f);var m;if(e!=null)for(var l in e)(m=e[l])!=null&&(i==null||i[l]==null)&&wt(r,l,m,f)}function xt(r,e){return e==="value"||e==="checked"||e==="selectedIndex"||e==="selected"&&r.dom===s()||r.tag==="option"&&r.dom.parentNode===n.activeElement}function we(r){return r==="oninit"||r==="oncreate"||r==="onupdate"||r==="onremove"||r==="onbeforeremove"||r==="onbeforeupdate"}function Me(r,e,i){return i===void 0&&(r.tag.indexOf("-")>-1||r.attrs!=null&&r.attrs.is||e!=="href"&&e!=="list"&&e!=="form"&&e!=="width"&&e!=="height")&&e in r.dom}var Ot=/[A-Z]/g;function dt(r){return"-"+r.toLowerCase()}function be(r){return r[0]==="-"&&r[1]==="-"?r:r==="cssFloat"?"float":r.replace(Ot,dt)}function Ue(r,e,i){if(e!==i)if(i==null)r.style.cssText="";else if(typeof i!="object")r.style.cssText=i;else if(e==null||typeof e!="object"){r.style.cssText="";for(var f in i){var l=i[f];l!=null&&r.style.setProperty(be(f),String(l))}}else{for(var f in i){var l=i[f];l!=null&&(l=String(l))!==String(e[f])&&r.style.setProperty(be(f),l)}for(var f in e)e[f]!=null&&i[f]==null&&r.style.removeProperty(be(f))}}function Ae(){this._=a}Ae.prototype=Object.create(null),Ae.prototype.handleEvent=function(r){var e=this["on"+r.type],i;typeof e=="function"?i=e.call(r.currentTarget,r):typeof e.handleEvent=="function"&&e.handleEvent(r),this._&&r.redraw!==!1&&(0,this._)(),i===!1&&(r.preventDefault(),r.stopPropagation())};function Fe(r,e,i){if(r.events!=null){if(r.events[e]===i)return;i!=null&&(typeof i=="function"||typeof i=="object")?(r.events[e]==null&&r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=i):(r.events[e]!=null&&r.dom.removeEventListener(e.slice(2),r.events,!1),r.events[e]=void 0)}else i!=null&&(typeof i=="function"||typeof i=="object")&&(r.events=new Ae,r.dom.addEventListener(e.slice(2),r.events,!1),r.events[e]=i)}function xe(r,e,i){typeof r.oninit=="function"&&h.call(r.oninit,e),typeof r.oncreate=="function"&&i.push(h.bind(r.oncreate,e))}function Oe(r,e,i){typeof r.onupdate=="function"&&i.push(h.bind(r.onupdate,e))}function Et(r,e){do{if(r.attrs!=null&&typeof r.attrs.onbeforeupdate=="function"){var i=h.call(r.attrs.onbeforeupdate,r,e);if(i!==void 0&&!i)break}if(typeof r.tag!="string"&&typeof r.state.onbeforeupdate=="function"){var i=h.call(r.state.onbeforeupdate,r,e);if(i!==void 0&&!i)break}return!1}while(!1);return r.dom=e.dom,r.domSize=e.domSize,r.instance=e.instance,r.attrs=e.attrs,r.children=e.children,r.text=e.text,!0}return function(r,e,i){if(!r)throw new TypeError("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var f=[],l=s(),m=r.namespaceURI;r.vnodes==null&&(r.textContent=""),e=ie.normalizeChildren(Array.isArray(e)?e:[e]);var E=a;try{a=typeof i=="function"?i:void 0,j(r,r.vnodes,e,f,null,m==="http://www.w3.org/1999/xhtml"?void 0:m)}finally{a=E}r.vnodes=e,l!=null&&s()!==l&&typeof l.focus=="function"&&l.focus();for(var _=0;_<f.length;_++)f[_]()}},lt=St(window),Ve=J,Mt=function(t,n,a){var u=[],c=!1,o=!1;function h(){if(c)throw new Error("Nested m.redraw.sync() call");c=!0;for(var y=0;y<u.length;y+=2)try{t(u[y],Ve(u[y+1]),s)}catch(w){a.error(w)}c=!1}function s(){o||(o=!0,n(function(){o=!1,h()}))}s.sync=h;function p(y,w){if(w!=null&&w.view==null&&typeof w!="function")throw new TypeError("m.mount(element, component) expects a component, not a vnode");var b=u.indexOf(y);b>=0&&(u.splice(b,2),t(y,[],s)),w!=null&&(u.push(y,w),t(y,Ve(w),s))}return{mount:p,redraw:s}},Ut=lt,ze=Mt(Ut,requestAnimationFrame,console),ct=function(t){if(Object.prototype.toString.call(t)!=="[object Object]")return"";var n=[];for(var a in t)u(a,t[a]);return n.join("&");function u(c,o){if(Array.isArray(o))for(var h=0;h<o.length;h++)u(c+"["+h+"]",o[h]);else if(Object.prototype.toString.call(o)==="[object Object]")for(var h in o)u(c+"["+h+"]",o[h]);else n.push(encodeURIComponent(c)+(o!=null&&o!==""?"="+encodeURIComponent(o):""))}},st=Object.assign||function(t,n){n&&Object.keys(n).forEach(function(a){t[a]=n[a]})},Ft=ct,Dt=st,qe=function(t,n){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names *must* be separated");if(n==null)return t;var a=t.indexOf("?"),u=t.indexOf("#"),c=u<0?t.length:u,o=a<0?c:a,h=t.slice(0,o),s={};Dt(s,n);var p=h.replace(/:([^\/\.-]+)(\.{3})?/g,function(A,C,j){return delete s[C],n[C]==null?A:j?n[C]:encodeURIComponent(String(n[C]))}),y=p.indexOf("?"),w=p.indexOf("#"),b=w<0?p.length:w,d=y<0?b:y,g=p.slice(0,d);a>=0&&(g+=t.slice(a,c)),y>=0&&(g+=(a<0?"?":"&")+p.slice(y,b));var O=Ft(s);return O&&(g+=(a<0&&y<0?"?":"&")+O),u>=0&&(g+=t.slice(u)),w>=0&&(g+=(u<0?"":"&")+p.slice(w)),g},Ht=qe,Vt=function(t,n,a){var u=0;function c(s){return new n(s)}c.prototype=n.prototype,c.__proto__=n;function o(s){return function(p,y){typeof p!="string"?(y=p,p=p.url):y==null&&(y={});var w=new n(function(O,A){s(Ht(p,y.params),y,function(C){if(typeof y.type=="function")if(Array.isArray(C))for(var j=0;j<C.length;j++)C[j]=new y.type(C[j]);else C=new y.type(C);O(C)},A)});if(y.background===!0)return w;var b=0;function d(){--b===0&&typeof a=="function"&&a()}return g(w);function g(O){var A=O.then;return O.constructor=c,O.then=function(){b++;var C=A.apply(O,arguments);return C.then(d,function(j){if(d(),b===0)throw j}),g(C)},O}}}function h(s,p){for(var y in s.headers)if({}.hasOwnProperty.call(s.headers,y)&&p.test(y))return!0;return!1}return{request:o(function(s,p,y,w){var b=p.method!=null?p.method.toUpperCase():"GET",d=p.body,g=(p.serialize==null||p.serialize===JSON.serialize)&&!(d instanceof t.FormData),O=p.responseType||(typeof p.extract=="function"?"":"json"),A=new t.XMLHttpRequest,C=!1,j=A,z,W=A.abort;A.abort=function(){C=!0,W.call(this)},A.open(b,s,p.async!==!1,typeof p.user=="string"?p.user:void 0,typeof p.password=="string"?p.password:void 0),g&&d!=null&&!h(p,/^content-type$/i)&&A.setRequestHeader("Content-Type","application/json; charset=utf-8"),typeof p.deserialize!="function"&&!h(p,/^accept$/i)&&A.setRequestHeader("Accept","application/json, text/*"),p.withCredentials&&(A.withCredentials=p.withCredentials),p.timeout&&(A.timeout=p.timeout),A.responseType=O;for(var G in p.headers)({}).hasOwnProperty.call(p.headers,G)&&A.setRequestHeader(G,p.headers[G]);A.onreadystatechange=function(q){if(!C&&q.target.readyState===4)try{var N=q.target.status>=200&&q.target.status<300||q.target.status===304||/^file:\/\//i.test(s),L=q.target.response,K;if(O==="json"?!q.target.responseType&&typeof p.extract!="function"&&(L=JSON.parse(q.target.responseText)):(!O||O==="text")&&L==null&&(L=q.target.responseText),typeof p.extract=="function"?(L=p.extract(q.target,p),N=!0):typeof p.deserialize=="function"&&(L=p.deserialize(L)),N)y(L);else{try{K=q.target.responseText}catch{K=L}var D=new Error(K);D.code=q.target.status,D.response=L,w(D)}}catch(Z){w(Z)}},typeof p.config=="function"&&(A=p.config(A,p,s)||A,A!==j&&(z=A.abort,A.abort=function(){C=!0,z.call(this)})),d==null?A.send():typeof p.serialize=="function"?A.send(p.serialize(d)):d instanceof t.FormData?A.send(d):A.send(JSON.stringify(d))}),jsonp:o(function(s,p,y,w){var b=p.callbackName||"_mithril_"+Math.round(Math.random()*1e16)+"_"+u++,d=t.document.createElement("script");t[b]=function(g){delete t[b],d.parentNode.removeChild(d),y(g)},d.onerror=function(){delete t[b],d.parentNode.removeChild(d),w(new Error("JSONP request failed"))},d.src=s+(s.indexOf("?")<0?"?":"&")+encodeURIComponent(p.callbackKey||"callback")+"="+encodeURIComponent(b),t.document.documentElement.appendChild(d)})}},Bt=le.exports,Kt=ze,Qt=Vt(window,Bt,Kt.redraw),ot=function(t){if(t===""||t==null)return{};t.charAt(0)==="?"&&(t=t.slice(1));for(var n=t.split("&"),a={},u={},c=0;c<n.length;c++){var o=n[c].split("="),h=decodeURIComponent(o[0]),s=o.length===2?decodeURIComponent(o[1]):"";s==="true"?s=!0:s==="false"&&(s=!1);var p=h.split(/\]\[?|\[/),y=u;h.indexOf("[")>-1&&p.pop();for(var w=0;w<p.length;w++){var b=p[w],d=p[w+1],g=d==""||!isNaN(parseInt(d,10));if(b===""){var h=p.slice(0,w).join();a[h]==null&&(a[h]=Array.isArray(y)?y.length:0),b=a[h]++}else if(b==="__proto__")break;if(w===p.length-1)y[b]=s;else{var O=Object.getOwnPropertyDescriptor(y,b);O!=null&&(O=O.value),O==null&&(y[b]=O=g?[]:{}),y=O}}}return u},Xt=ot,Ie=function(t){var n=t.indexOf("?"),a=t.indexOf("#"),u=a<0?t.length:a,c=n<0?u:n,o=t.slice(0,c).replace(/\/{2,}/g,"/");return o?(o[0]!=="/"&&(o="/"+o),o.length>1&&o[o.length-1]==="/"&&(o=o.slice(0,-1))):o="/",{path:o,params:n<0?{}:Xt(t.slice(n+1,u))}},Jt=Ie,Wt=function(t){var n=Jt(t),a=Object.keys(n.params),u=[],c=new RegExp("^"+n.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,function(o,h,s){return h==null?"\\"+o:(u.push({k:h,r:s==="..."}),s==="..."?"(.*)":s==="."?"([^/]+)\\.":"([^/]+)"+(s||""))})+"$");return function(o){for(var h=0;h<a.length;h++)if(n.params[a[h]]!==o.params[a[h]])return!1;if(!u.length)return c.test(o.path);var s=c.exec(o.path);if(s==null)return!1;for(var h=0;h<u.length;h++)o.params[u[h].k]=u[h].r?s[h+1]:decodeURIComponent(s[h+1]);return!0}},Gt=J,Zt=ut,Yt=le.exports,kt=qe,Be=Ie,er=Wt,Ke=st,Ne={},tr=function(t,n){var a;function u(b,d,g){if(b=kt(b,d),a!=null){a();var O=g?g.state:null,A=g?g.title:null;g&&g.replace?t.history.replaceState(O,A,w.prefix+b):t.history.pushState(O,A,w.prefix+b)}else t.location.href=w.prefix+b}var c=Ne,o,h,s,p,y=w.SKIP={};function w(b,d,g){if(b==null)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var O=0,A=Object.keys(g).map(function(N){if(N[0]!=="/")throw new SyntaxError("Routes must start with a `/`");if(/:([^\/\.-]+)(\.{3})?:/.test(N))throw new SyntaxError("Route parameter names must be separated with either `/`, `.`, or `-`");return{route:N,component:g[N],check:er(N)}}),C=typeof setImmediate=="function"?setImmediate:setTimeout,j=Yt.resolve(),z=!1,W;if(a=null,d!=null){var G=Be(d);if(!A.some(function(N){return N.check(G)}))throw new ReferenceError("Default route doesn't match any known routes")}function q(){z=!1;var N=t.location.hash;w.prefix[0]!=="#"&&(N=t.location.search+N,w.prefix[0]!=="?"&&(N=t.location.pathname+N,N[0]!=="/"&&(N="/"+N)));var L=N.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent).slice(w.prefix.length),K=Be(L);Ke(K.params,t.history.state);function D(){if(L===d)throw new Error("Could not resolve default route "+d);u(d,null,{replace:!0})}Z(0);function Z(V){for(;V<A.length;V++)if(A[V].check(K)){var H=A[V].component,ce=A[V].route,Y=H,k=p=function(B){if(k===p){if(B===y)return Z(V+1);o=B!=null&&(typeof B.view=="function"||typeof B=="function")?B:"div",h=K.params,s=L,p=null,c=H.render?H:null,O===2?n.redraw():(O=2,n.redraw.sync())}};H.view||typeof H=="function"?(H={},k(Y)):H.onmatch?j.then(function(){return H.onmatch(K.params,L,ce)}).then(k,D):k("div");return}D()}}return a=function(){z||(z=!0,C(q))},typeof t.history.pushState=="function"?(W=function(){t.removeEventListener("popstate",a,!1)},t.addEventListener("popstate",a,!1)):w.prefix[0]==="#"&&(a=null,W=function(){t.removeEventListener("hashchange",q,!1)},t.addEventListener("hashchange",q,!1)),n.mount(b,{onbeforeupdate:function(){return O=O?2:1,!(!O||Ne===c)},oncreate:q,onremove:W,view:function(){if(!(!O||Ne===c)){var N=[Gt(o,h.key,h)];return c&&(N=c.render(N[0])),N}}})}return w.set=function(b,d,g){p!=null&&(g=g||{},g.replace=!0),p=null,u(b,d,g)},w.get=function(){return s},w.prefix="#!",w.Link={view:function(b){var d=b.attrs.options,g={},O,A;Ke(g,b.attrs),g.selector=g.options=g.key=g.oninit=g.oncreate=g.onbeforeupdate=g.onupdate=g.onbeforeremove=g.onremove=null;var C=Zt(b.attrs.selector||"a",g,b.children);return(C.attrs.disabled=Boolean(C.attrs.disabled))?(C.attrs.href=null,C.attrs["aria-disabled"]="true",C.attrs.onclick=null):(O=C.attrs.onclick,A=C.attrs.href,C.attrs.href=w.prefix+A,C.attrs.onclick=function(j){var z;typeof O=="function"?z=O.call(j.currentTarget,j):O==null||typeof O!="object"||typeof O.handleEvent=="function"&&O.handleEvent(j),z!==!1&&!j.defaultPrevented&&(j.button===0||j.which===0||j.which===1)&&(!j.currentTarget.target||j.currentTarget.target==="_self")&&!j.ctrlKey&&!j.metaKey&&!j.shiftKey&&!j.altKey&&(j.preventDefault(),j.redraw=!1,w.set(A,null,d))}),C}},w.param=function(b){return h&&b!=null?h[b]:h},w},rr=ze,nr=tr(window,rr),me=Lt,ht=Qt,pt=ze,M=function(){return me.apply(this,arguments)};M.m=me;M.trust=me.trust;M.fragment=me.fragment;M.mount=pt.mount;M.route=nr;M.render=lt;M.redraw=pt.redraw;M.request=ht.request;M.jsonp=ht.jsonp;M.parseQueryString=ot;M.buildQueryString=ct;M.parsePathname=Ie;M.buildPathname=qe;M.vnode=J;M.PromisePolyfill=ft;var Hr=M;function X(t){return t!=null&&typeof t=="object"&&t["@@functional/placeholder"]===!0}function Q(t){return function n(a){return arguments.length===0||X(a)?n:t.apply(this,arguments)}}function te(t){return function n(a,u){switch(arguments.length){case 0:return n;case 1:return X(a)?n:Q(function(c){return t(a,c)});default:return X(a)&&X(u)?n:X(a)?Q(function(c){return t(c,u)}):X(u)?Q(function(c){return t(a,c)}):t(a,u)}}}function Re(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(a){return n.apply(this,arguments)};case 2:return function(a,u){return n.apply(this,arguments)};case 3:return function(a,u,c){return n.apply(this,arguments)};case 4:return function(a,u,c,o){return n.apply(this,arguments)};case 5:return function(a,u,c,o,h){return n.apply(this,arguments)};case 6:return function(a,u,c,o,h,s){return n.apply(this,arguments)};case 7:return function(a,u,c,o,h,s,p){return n.apply(this,arguments)};case 8:return function(a,u,c,o,h,s,p,y){return n.apply(this,arguments)};case 9:return function(a,u,c,o,h,s,p,y,w){return n.apply(this,arguments)};case 10:return function(a,u,c,o,h,s,p,y,w,b){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function mt(t,n,a){return function(){for(var u=[],c=0,o=t,h=0;h<n.length||c<arguments.length;){var s;h<n.length&&(!X(n[h])||c>=arguments.length)?s=n[h]:(s=arguments[c],c+=1),u[h]=s,X(s)||(o-=1),h+=1}return o<=0?a.apply(this,u):Re(o,mt(t,u,a))}}var ir=te(function(n,a){return n===1?Q(a):Re(n,mt(n,[],a))}),ar=ir,yt=Array.isArray||function(n){return n!=null&&n.length>=0&&Object.prototype.toString.call(n)==="[object Array]"};function ur(t){return t!=null&&typeof t["@@transducer/step"]=="function"}function fr(t,n,a){return function(){if(arguments.length===0)return a();var u=arguments[arguments.length-1];if(!yt(u)){for(var c=0;c<t.length;){if(typeof u[t[c]]=="function")return u[t[c]].apply(u,Array.prototype.slice.call(arguments,0,-1));c+=1}if(ur(u)){var o=n.apply(null,Array.prototype.slice.call(arguments,0,-1));return o(u)}}return a.apply(this,arguments)}}var Qe={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}};function lr(t){return Object.prototype.toString.call(t)==="[object String]"}var cr=Q(function(n){return yt(n)?!0:!n||typeof n!="object"||lr(n)?!1:n.length===0?!0:n.length>0?n.hasOwnProperty(0)&&n.hasOwnProperty(n.length-1):!1}),sr=cr,or=function(){function t(n){this.f=n}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(n){return n},t.prototype["@@transducer/step"]=function(n,a){return this.f(n,a)},t}();function hr(t){return new or(t)}var pr=te(function(n,a){return Re(n.length,function(){return n.apply(a,arguments)})}),mr=pr;function yr(t,n,a){for(var u=0,c=a.length;u<c;){if(n=t["@@transducer/step"](n,a[u]),n&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}u+=1}return t["@@transducer/result"](n)}function Xe(t,n,a){for(var u=a.next();!u.done;){if(n=t["@@transducer/step"](n,u.value),n&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}u=a.next()}return t["@@transducer/result"](n)}function Je(t,n,a,u){return t["@@transducer/result"](a[u](mr(t["@@transducer/step"],t),n))}var We=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator";function gr(t,n,a){if(typeof t=="function"&&(t=hr(t)),sr(a))return yr(t,n,a);if(typeof a["fantasy-land/reduce"]=="function")return Je(t,n,a,"fantasy-land/reduce");if(a[We]!=null)return Xe(t,n,a[We]());if(typeof a.next=="function")return Xe(t,n,a);if(typeof a.reduce=="function")return Je(t,n,a,"reduce");throw new TypeError("reduce: list must be array or iterable")}function pe(t,n){return Object.prototype.hasOwnProperty.call(n,t)}var Ge=Object.prototype.toString,wr=function(){return Ge.call(arguments)==="[object Arguments]"?function(n){return Ge.call(n)==="[object Arguments]"}:function(n){return pe("callee",n)}}(),br=wr,Ar=!{toString:null}.propertyIsEnumerable("toString"),Ze=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ye=function(){return arguments.propertyIsEnumerable("length")}(),xr=function(n,a){for(var u=0;u<n.length;){if(n[u]===a)return!0;u+=1}return!1},Or=Q(typeof Object.keys=="function"&&!Ye?function(n){return Object(n)!==n?[]:Object.keys(n)}:function(n){if(Object(n)!==n)return[];var a,u,c=[],o=Ye&&br(n);for(a in n)pe(a,n)&&(!o||a!=="length")&&(c[c.length]=a);if(Ar)for(u=Ze.length-1;u>=0;)a=Ze[u],pe(a,n)&&!xr(c,a)&&(c[c.length]=a),u-=1;return c}),$e=Or,dr=Q(function(n){return n===null?"Null":n===void 0?"Undefined":Object.prototype.toString.call(n).slice(8,-1)}),ke=dr;function et(t){for(var n=[],a;!(a=t.next()).done;)n.push(a.value);return n}function tt(t,n,a){for(var u=0,c=a.length;u<c;){if(t(n,a[u]))return!0;u+=1}return!1}function Er(t){var n=String(t).match(/^function (\w*)/);return n==null?"":n[1]}function _r(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}var Pe=typeof Object.is=="function"?Object.is:_r;function rt(t,n,a,u){var c=et(t),o=et(n);function h(s,p){return Le(s,p,a.slice(),u.slice())}return!tt(function(s,p){return!tt(h,p,s)},o,c)}function Le(t,n,a,u){if(Pe(t,n))return!0;var c=ke(t);if(c!==ke(n))return!1;if(typeof t["fantasy-land/equals"]=="function"||typeof n["fantasy-land/equals"]=="function")return typeof t["fantasy-land/equals"]=="function"&&t["fantasy-land/equals"](n)&&typeof n["fantasy-land/equals"]=="function"&&n["fantasy-land/equals"](t);if(typeof t.equals=="function"||typeof n.equals=="function")return typeof t.equals=="function"&&t.equals(n)&&typeof n.equals=="function"&&n.equals(t);switch(c){case"Arguments":case"Array":case"Object":if(typeof t.constructor=="function"&&Er(t.constructor)==="Promise")return t===n;break;case"Boolean":case"Number":case"String":if(!(typeof t==typeof n&&Pe(t.valueOf(),n.valueOf())))return!1;break;case"Date":if(!Pe(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(!(t.source===n.source&&t.global===n.global&&t.ignoreCase===n.ignoreCase&&t.multiline===n.multiline&&t.sticky===n.sticky&&t.unicode===n.unicode))return!1;break}for(var o=a.length-1;o>=0;){if(a[o]===t)return u[o]===n;o-=1}switch(c){case"Map":return t.size!==n.size?!1:rt(t.entries(),n.entries(),a.concat([t]),u.concat([n]));case"Set":return t.size!==n.size?!1:rt(t.values(),n.values(),a.concat([t]),u.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var h=$e(t);if(h.length!==$e(n).length)return!1;var s=a.concat([t]),p=u.concat([n]);for(o=h.length-1;o>=0;){var y=h[o];if(!(pe(y,n)&&Le(n[y],t[y],s,p)))return!1;o-=1}return!0}var Cr=te(function(n,a){return Le(n,a,[],[])}),jr=Cr;function vr(t,n,a){var u,c;if(typeof t.indexOf=="function")switch(typeof n){case"number":if(n===0){for(u=1/n;a<t.length;){if(c=t[a],c===0&&1/c===u)return a;a+=1}return-1}else if(n!==n){for(;a<t.length;){if(c=t[a],typeof c=="number"&&c!==c)return a;a+=1}return-1}return t.indexOf(n,a);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,a);case"object":if(n===null)return t.indexOf(n,a)}for(;a<t.length;){if(jr(t[a],n))return a;a+=1}return-1}function Nr(t,n){return vr(n,t,0)>=0}function Pr(t){return function(){return!t.apply(this,arguments)}}function $r(t,n){for(var a=0,u=n.length,c=[];a<u;)t(n[a])&&(c[c.length]=n[a]),a+=1;return c}function Tr(t){return Object.prototype.toString.call(t)==="[object Object]"}var zr=function(){function t(n,a){this.xf=a,this.f=n}return t.prototype["@@transducer/init"]=Qe.init,t.prototype["@@transducer/result"]=Qe.result,t.prototype["@@transducer/step"]=function(n,a){return this.f(a)?this.xf["@@transducer/step"](n,a):n},t}(),qr=te(function(n,a){return new zr(n,a)}),Ir=qr,Rr=te(fr(["fantasy-land/filter","filter"],Ir,function(t,n){return Tr(n)?gr(function(a,u){return t(n[u])&&(a[u]=n[u]),a},{},$e(n)):$r(t,n)})),Lr=Rr,Sr=te(function(n,a){return Lr(Pr(n),a)}),Mr=Sr,Ur=Q(function(n){return ar(n.length,function(a,u){var c=Array.prototype.slice.call(arguments,0);return c[0]=u,c[1]=a,n.apply(this,c)})}),Fr=Ur,Dr=te(function(t,n){return Mr(Fr(Nr)(t),n)}),Vr=Dr;export{Hr as m,Vr as w};
