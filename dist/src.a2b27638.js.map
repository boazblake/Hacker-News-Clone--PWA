{"version":3,"sources":["node_modules/mithril/mithril.mjs","src/Model.js","src/components/Hamburger.js","src/utils/animations.js","src/components/Header.js","src/components/Footer.js","src/components/Sidebar.js","src/components/Modal.js","src/components/Body.js","src/components/Layout.js","src/utils/helpers.js","src/utils/index.js","src/App.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["Vnode","tag","key","attrs0","children0","text","dom","attrs","children","domSize","undefined","state","events","instance","normalize","node","Array","isArray","normalizeChildren","input","i","length","hyperscriptVnode","attrs1","arguments","start","children1","push","selectorParser","selectorCache","hasOwn","hasOwnProperty","isEmpty","object","call","compileSelector","selector","match","classes","exec","type","value","id","attrValue","replace","className","join","execSelector","vnode","hasClass","class","newAttrs","String","hyperscript","view","Error","apply","trust","html","fragment","vnode2","m","PromisePolyfill","executor","TypeError","self","resolvers","rejectors","resolveCurrent","handler","rejectCurrent","_instance","callAsync","setImmediate","setTimeout","list","shouldAbsorb","execute","then","executeOnce","bind","console","error","retry","e","runs","run","fn","onerror","prototype","onFulfilled","onRejection","handle","callback","next","resolveNext","rejectNext","promise","resolve","reject","catch","finally","reason","all","total","count","values","consume","race","window","Promise","global","buildQueryString","Object","toString","args","destructure","encodeURIComponent","_12","$window","callbackCount","oncompletion","makeRequest","factory","url","promise0","data","background","complete","wrap","then0","hasHeader","name","headers","test","interpolate","assemble","m0","querystring","indexOf","request","method","toUpperCase","useBody","assumeJSON","serialize","JSON","FormData","stringify","xhr","XMLHttpRequest","aborted","_abort","abort","open","async","user","password","setRequestHeader","deserialize","withCredentials","timeout","responseType","config","onreadystatechange","readyState","success","status","response","responseText","extract","parse","code","send","jsonp","callbackName","Math","round","random","script","document","createElement","parentNode","removeChild","src","callbackKey","documentElement","appendChild","setCompletionCallback","requestService","coreRenderer","$doc","nameSpace","svg","math","redraw0","setRedraw","getNameSpace","vnode3","xmlns","checkState","original","callHook","activeElement","createNodes","parent","vnodes","end","hooks","nextSibling","ns","createNode","initLifecycle","createText","createHTML","createFragment","createComponent","createTextNode","insertNode","possibleParents","caption","thead","tbody","tfoot","tr","th","td","colgroup","col","match0","temp","innerHTML","firstChild","childNodes","createDocumentFragment","child","children3","attrs2","is","element","createElementNS","setAttrs","contenteditable","setContentEditable","textContent","setLateSelectAttrs","initComponent","sentinel","create","$$reentrantLock$$","updateNodes","old","removeNodes","oldStart","isOldKeyed","isKeyed","commonLength","o","v","getNextSibling","removeNode","updateNode","oldEnd","map","oe","ve","topSibling","toFragment","originalNextSibling","vnodesLength","oldIndices","li","pos","matched","lisIndices","getKeyMap","oldIndex","makeLisIndices","oldTag","shouldNotUpdate","updateLifecycle","updateText","updateHTML","updateFragment","updateElement","updateComponent","nodeValue","updateAttrs","a","p","slice","result","u","il","j","c","count0","insertBefore","content","expected","called","onbeforeremove","continuation","onremove","setAttr","isLifecycleMethod","isFormAttribute","updateEvent","setAttributeNS","updateStyle","hasPropertyKey","setAttribute","removeAttribute","removeAttr","selectedIndex","nsLastIndex","normalized","val","attr","uppercaseRegex","toLowerCase","capital","normalizeKey","style","cssText","setProperty","removeProperty","EventDict","handleEvent","ev","handler0","currentTarget","redraw","preventDefault","stopPropagation","addEventListener","removeEventListener","source","oninit","oncreate","onupdate","onbeforeupdate","force","render","active","namespace","namespaceURI","focus","throttle","pending","requestAnimationFrame","_15","throttleMock","renderService","callbacks","rendering","subscribe","unsubscribe","index","splice","sync","redrawService","_20","redrawService0","root","component","run0","mount","parseQueryString","string","charAt","entries","split","data2","counters","entry","key2","decodeURIComponent","value0","levels","cursor","pop","j0","level","nextLevel","isNumber","isNaN","parseInt","isValue","coreRouter","supportsPushState","history","pushState","callAsync0","fragment0","data1","location","asyncId","debounceAsync","parsePath","path","queryData","hashData","queryIndex","hashIndex","pathEnd","queryEnd","queryParams","key1","hashParams","router","prefix","getPath","type2","setPath","options","match1","token","query","hash","title","onpopstate","replaceState","href","defineRoutes","routes","resolveRoute","params","pathname","k","route0","matcher","RegExp","keys","onhashchange","_24","routeService","identity","v0","render1","attrs3","currentPath","lastUpdate","route","defaultRoute","run1","redraw3","bail","payload","update","routeResolver","comp","onmatch","resolved","set","data0","get","link","vnode5","onclick","ctrlKey","metaKey","shiftKey","which","getAttribute","args0","param","key0","_31","version","_m","_trust","_fragment","_mount","_route","_render","_redraw","_request","_jsonp","_parseQueryString","_buildQueryString","_version","_vnode","_PromisePolyfill","item","limit","urls","reduce","req","http","model","getResponseHeader","concat","reqs","limits","scrollPos","profile","tabsShowing","showLimits","toggleLimits","showTabs","Hamburger","close","d","_dom","fill","animateComponentEntrance","idx","opacity","classList","toggle","animateSidebarEntrance","animateChildrenEntrance","animateChildrenLimitsEntrance","animate","dir","slideModalOut","remove","add","animateChildrenLimitsExit","reverse","display","Selector","ChangeLimits","Header","Footer","Tab","tab","Sidebar","tabs","Modal","Body","Layout","getData","infiniteScroll","setpoint","target","scrollTop","init","IsLoading","Post","body","Comment","email","Album","Photo","thumbnailUrl","Todo","completed","checked","User","phone","username","website","for","makeItem","Component","Item","onscroll","_item","toRoute","_","App","module","hot","accept","log","getProfile","w","winW","innerWidth","checkWidth","lastProfile","navigator","serviceWorker","register","registration","registrationError","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","getBaseURL","exports","bundle","require","updateLink","newLink","cloneNode","onload","Date","now","cssTimeout","reloadCSS","links","querySelectorAll","OVERLAY_ID","OldModule","Module","moduleName","hotData","_acceptCallbacks","_disposeCallbacks","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","protocol","ws","onmessage","event","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","onclose","removeErrorOverlay","message","overlay","createErrorOverlay","getElementById","stackTrace","innerText","getParents","modules","parents","dep","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["function Vnode(tag, key, attrs0, children0, text, dom) {\n\treturn {tag: tag, key: key, attrs: attrs0, children: children0, text: text, dom: dom, domSize: undefined, state: undefined, events: undefined, instance: undefined}\n}\nVnode.normalize = function(node) {\n\tif (Array.isArray(node)) return Vnode(\"[\", undefined, undefined, Vnode.normalizeChildren(node), undefined, undefined)\n\tif (node != null && typeof node !== \"object\") return Vnode(\"#\", undefined, undefined, node === false ? \"\" : node, undefined, undefined)\n\treturn node\n}\nVnode.normalizeChildren = function(input) {\n\tvar children0 = []\n\tfor (var i = 0; i < input.length; i++) {\n\t\tchildren0[i] = Vnode.normalize(input[i])\n\t}\n\treturn children0\n}\n// Call via `hyperscriptVnode0.apply(startOffset, arguments)`\n//\n// The reason I do it this way, forwarding the arguments and passing the start\n// offset in `this`, is so I don't have to create a temporary array in a\n// performance-critical path.\n//\n// In native ES6, I'd instead add a final `...args` parameter to the\n// `hyperscript0` and `fragment` factories and define this as\n// `hyperscriptVnode0(...args)`, since modern engines do optimize that away. But\n// ES5 (what Mithril requires thanks to IE support) doesn't give me that luxury,\n// and engines aren't nearly intelligent enough to do either of these:\n//\n// 1. Elide the allocation for `[].slice.call(arguments, 1)` when it's passed to\n//    another function only to be indexed.\n// 2. Elide an `arguments` allocation when it's passed to any function other\n//    than `Function.prototype.apply` or `Reflect.apply`.\n//\n// In ES6, it'd probably look closer to this (I'd need to profile it, though):\n// var hyperscriptVnode = function(attrs1, ...children1) {\n//     if (attrs1 == null || typeof attrs1 === \"object\" && attrs1.tag == null && !Array.isArray(attrs1)) {\n//         if (children1.length === 1 && Array.isArray(children1[0])) children1 = children1[0]\n//     } else {\n//         children1 = children1.length === 0 && Array.isArray(attrs1) ? attrs1 : [attrs1, ...children1]\n//         attrs1 = undefined\n//     }\n//\n//     if (attrs1 == null) attrs1 = {}\n//     return Vnode(\"\", attrs1.key, attrs1, children1)\n// }\nvar hyperscriptVnode = function() {\n\tvar attrs1 = arguments[this], start = this + 1, children1\n\tif (attrs1 == null) {\n\t\tattrs1 = {}\n\t} else if (typeof attrs1 !== \"object\" || attrs1.tag != null || Array.isArray(attrs1)) {\n\t\tattrs1 = {}\n\t\tstart = this\n\t}\n\tif (arguments.length === start + 1) {\n\t\tchildren1 = arguments[start]\n\t\tif (!Array.isArray(children1)) children1 = [children1]\n\t} else {\n\t\tchildren1 = []\n\t\twhile (start < arguments.length) children1.push(arguments[start++])\n\t}\n\treturn Vnode(\"\", attrs1.key, attrs1, children1)\n}\nvar selectorParser = /(?:(^|#|\\.)([^#\\.\\[\\]]+))|(\\[(.+?)(?:\\s*=\\s*(\"|'|)((?:\\\\[\"'\\]]|.)*?)\\5)?\\])/g\nvar selectorCache = {}\nvar hasOwn = {}.hasOwnProperty\nfunction isEmpty(object) {\n\tfor (var key in object) if (hasOwn.call(object, key)) return false\n\treturn true\n}\nfunction compileSelector(selector) {\n\tvar match, tag = \"div\", classes = [], attrs = {}\n\twhile (match = selectorParser.exec(selector)) {\n\t\tvar type = match[1], value = match[2]\n\t\tif (type === \"\" && value !== \"\") tag = value\n\t\telse if (type === \"#\") attrs.id = value\n\t\telse if (type === \".\") classes.push(value)\n\t\telse if (match[3][0] === \"[\") {\n\t\t\tvar attrValue = match[6]\n\t\t\tif (attrValue) attrValue = attrValue.replace(/\\\\([\"'])/g, \"$1\").replace(/\\\\\\\\/g, \"\\\\\")\n\t\t\tif (match[4] === \"class\") classes.push(attrValue)\n\t\t\telse attrs[match[4]] = attrValue === \"\" ? attrValue : attrValue || true\n\t\t}\n\t}\n\tif (classes.length > 0) attrs.className = classes.join(\" \")\n\treturn selectorCache[selector] = {tag: tag, attrs: attrs}\n}\nfunction execSelector(state, vnode) {\n\tvar attrs = vnode.attrs\n\tvar children = Vnode.normalizeChildren(vnode.children)\n\tvar hasClass = hasOwn.call(attrs, \"class\")\n\tvar className = hasClass ? attrs.class : attrs.className\n\tvnode.tag = state.tag\n\tvnode.attrs = null\n\tvnode.children = undefined\n\tif (!isEmpty(state.attrs) && !isEmpty(attrs)) {\n\t\tvar newAttrs = {}\n\t\tfor (var key in attrs) {\n\t\t\tif (hasOwn.call(attrs, key)) newAttrs[key] = attrs[key]\n\t\t}\n\t\tattrs = newAttrs\n\t}\n\tfor (var key in state.attrs) {\n\t\tif (hasOwn.call(state.attrs, key) && key !== \"className\" && !hasOwn.call(attrs, key)){\n\t\t\tattrs[key] = state.attrs[key]\n\t\t}\n\t}\n\tif (className != null || state.attrs.className != null) attrs.className =\n\t\tclassName != null\n\t\t\t? state.attrs.className != null\n\t\t\t\t? String(state.attrs.className) + \" \" + String(className)\n\t\t\t\t: className\n\t\t\t: state.attrs.className != null\n\t\t\t\t? state.attrs.className\n\t\t\t\t: null\n\tif (hasClass) attrs.class = null\n\tfor (var key in attrs) {\n\t\tif (hasOwn.call(attrs, key) && key !== \"key\") {\n\t\t\tvnode.attrs = attrs\n\t\t\tbreak\n\t\t}\n\t}\n\tif (Array.isArray(children) && children.length === 1 && children[0] != null && children[0].tag === \"#\") {\n\t\tvnode.text = children[0].children\n\t} else {\n\t\tvnode.children = children\n\t}\n\treturn vnode\n}\nfunction hyperscript(selector) {\n\tif (selector == null || typeof selector !== \"string\" && typeof selector !== \"function\" && typeof selector.view !== \"function\") {\n\t\tthrow Error(\"The selector must be either a string or a component.\");\n\t}\n\tvar vnode = hyperscriptVnode.apply(1, arguments)\n\tif (typeof selector === \"string\") {\n\t\tvnode.children = Vnode.normalizeChildren(vnode.children)\n\t\tif (selector !== \"[\") return execSelector(selectorCache[selector] || compileSelector(selector), vnode)\n\t}\n\t\n\tvnode.tag = selector\n\treturn vnode\n}\nhyperscript.trust = function(html) {\n\tif (html == null) html = \"\"\n\treturn Vnode(\"<\", undefined, undefined, html, undefined, undefined)\n}\nhyperscript.fragment = function() {\n\tvar vnode2 = hyperscriptVnode.apply(0, arguments)\n\tvnode2.tag = \"[\"\n\tvnode2.children = Vnode.normalizeChildren(vnode2.children)\n\treturn vnode2\n}\nvar m = function m() { return hyperscript.apply(this, arguments) }\nm.m = hyperscript\nm.trust = hyperscript.trust\nm.fragment = hyperscript.fragment\n/** @constructor */\nvar PromisePolyfill = function(executor) {\n\tif (!(this instanceof PromisePolyfill)) throw new Error(\"Promise must be called with `new`\")\n\tif (typeof executor !== \"function\") throw new TypeError(\"executor must be a function\")\n\tvar self = this, resolvers = [], rejectors = [], resolveCurrent = handler(resolvers, true), rejectCurrent = handler(rejectors, false)\n\tvar instance = self._instance = {resolvers: resolvers, rejectors: rejectors}\n\tvar callAsync = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction handler(list, shouldAbsorb) {\n\t\treturn function execute(value) {\n\t\t\tvar then\n\t\t\ttry {\n\t\t\t\tif (shouldAbsorb && value != null && (typeof value === \"object\" || typeof value === \"function\") && typeof (then = value.then) === \"function\") {\n\t\t\t\t\tif (value === self) throw new TypeError(\"Promise can't be resolved w/ itself\")\n\t\t\t\t\texecuteOnce(then.bind(value))\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tcallAsync(function() {\n\t\t\t\t\t\tif (!shouldAbsorb && list.length === 0) console.error(\"Possible unhandled promise rejection:\", value)\n\t\t\t\t\t\tfor (var i = 0; i < list.length; i++) list[i](value)\n\t\t\t\t\t\tresolvers.length = 0, rejectors.length = 0\n\t\t\t\t\t\tinstance.state = shouldAbsorb\n\t\t\t\t\t\tinstance.retry = function() {execute(value)}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\trejectCurrent(e)\n\t\t\t}\n\t\t}\n\t}\n\tfunction executeOnce(then) {\n\t\tvar runs = 0\n\t\tfunction run(fn) {\n\t\t\treturn function(value) {\n\t\t\t\tif (runs++ > 0) return\n\t\t\t\tfn(value)\n\t\t\t}\n\t\t}\n\t\tvar onerror = run(rejectCurrent)\n\t\ttry {then(run(resolveCurrent), onerror)} catch (e) {onerror(e)}\n\t}\n\texecuteOnce(executor)\n}\nPromisePolyfill.prototype.then = function(onFulfilled, onRejection) {\n\tvar self = this, instance = self._instance\n\tfunction handle(callback, list, next, state) {\n\t\tlist.push(function(value) {\n\t\t\tif (typeof callback !== \"function\") next(value)\n\t\t\telse try {resolveNext(callback(value))} catch (e) {if (rejectNext) rejectNext(e)}\n\t\t})\n\t\tif (typeof instance.retry === \"function\" && state === instance.state) instance.retry()\n\t}\n\tvar resolveNext, rejectNext\n\tvar promise = new PromisePolyfill(function(resolve, reject) {resolveNext = resolve, rejectNext = reject})\n\thandle(onFulfilled, instance.resolvers, resolveNext, true), handle(onRejection, instance.rejectors, rejectNext, false)\n\treturn promise\n}\nPromisePolyfill.prototype.catch = function(onRejection) {\n\treturn this.then(null, onRejection)\n}\nPromisePolyfill.prototype.finally = function(callback) {\n\treturn this.then(\n\t\tfunction(value) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn value\n\t\t\t})\n\t\t},\n\t\tfunction(reason) {\n\t\t\treturn PromisePolyfill.resolve(callback()).then(function() {\n\t\t\t\treturn PromisePolyfill.reject(reason);\n\t\t\t})\n\t\t}\n\t)\n}\nPromisePolyfill.resolve = function(value) {\n\tif (value instanceof PromisePolyfill) return value\n\treturn new PromisePolyfill(function(resolve) {resolve(value)})\n}\nPromisePolyfill.reject = function(value) {\n\treturn new PromisePolyfill(function(resolve, reject) {reject(value)})\n}\nPromisePolyfill.all = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tvar total = list.length, count = 0, values = []\n\t\tif (list.length === 0) resolve([])\n\t\telse for (var i = 0; i < list.length; i++) {\n\t\t\t(function(i) {\n\t\t\t\tfunction consume(value) {\n\t\t\t\t\tcount++\n\t\t\t\t\tvalues[i] = value\n\t\t\t\t\tif (count === total) resolve(values)\n\t\t\t\t}\n\t\t\t\tif (list[i] != null && (typeof list[i] === \"object\" || typeof list[i] === \"function\") && typeof list[i].then === \"function\") {\n\t\t\t\t\tlist[i].then(consume, reject)\n\t\t\t\t}\n\t\t\t\telse consume(list[i])\n\t\t\t})(i)\n\t\t}\n\t})\n}\nPromisePolyfill.race = function(list) {\n\treturn new PromisePolyfill(function(resolve, reject) {\n\t\tfor (var i = 0; i < list.length; i++) {\n\t\t\tlist[i].then(resolve, reject)\n\t\t}\n\t})\n}\nif (typeof window !== \"undefined\") {\n\tif (typeof window.Promise === \"undefined\") {\n\t\twindow.Promise = PromisePolyfill\n\t} else if (!window.Promise.prototype.finally) {\n\t\twindow.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = window.Promise\n} else if (typeof global !== \"undefined\") {\n\tif (typeof global.Promise === \"undefined\") {\n\t\tglobal.Promise = PromisePolyfill\n\t} else if (!global.Promise.prototype.finally) {\n\t\tglobal.Promise.prototype.finally = PromisePolyfill.prototype.finally\n\t}\n\tvar PromisePolyfill = global.Promise\n} else {\n}\nvar buildQueryString = function(object) {\n\tif (Object.prototype.toString.call(object) !== \"[object Object]\") return \"\"\n\tvar args = []\n\tfor (var key in object) {\n\t\tdestructure(key, object[key])\n\t}\n\treturn args.join(\"&\")\n\tfunction destructure(key, value) {\n\t\tif (Array.isArray(value)) {\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse if (Object.prototype.toString.call(value) === \"[object Object]\") {\n\t\t\tfor (var i in value) {\n\t\t\t\tdestructure(key + \"[\" + i + \"]\", value[i])\n\t\t\t}\n\t\t}\n\t\telse args.push(encodeURIComponent(key) + (value != null && value !== \"\" ? \"=\" + encodeURIComponent(value) : \"\"))\n\t}\n}\nvar _12 = function($window, Promise) {\n\tvar callbackCount = 0\n\tvar oncompletion\n\tfunction makeRequest(factory) {\n\t\treturn function(url, args) {\n\t\t\tif (typeof url !== \"string\") { args = url; url = url.url }\n\t\t\telse if (args == null) args = {}\n\t\t\tvar promise0 = new Promise(function(resolve, reject) {\n\t\t\t\tfactory(url, args, function (data) {\n\t\t\t\t\tif (typeof args.type === \"function\") {\n\t\t\t\t\t\tif (Array.isArray(data)) {\n\t\t\t\t\t\t\tfor (var i = 0; i < data.length; i++) {\n\t\t\t\t\t\t\t\tdata[i] = new args.type(data[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse data = new args.type(data)\n\t\t\t\t\t}\n\t\t\t\t\tresolve(data)\n\t\t\t\t}, reject)\n\t\t\t})\n\t\t\tif (args.background === true) return promise0\n\t\t\tvar count = 0\n\t\t\tfunction complete() {\n\t\t\t\tif (--count === 0 && typeof oncompletion === \"function\") oncompletion()\n\t\t\t}\n\t\t\treturn wrap(promise0)\n\t\t\tfunction wrap(promise0) {\n\t\t\t\tvar then0 = promise0.then\n\t\t\t\tpromise0.then = function() {\n\t\t\t\t\tcount++\n\t\t\t\t\tvar next = then0.apply(promise0, arguments)\n\t\t\t\t\tnext.then(complete, function(e) {\n\t\t\t\t\t\tcomplete()\n\t\t\t\t\t\tif (count === 0) throw e\n\t\t\t\t\t})\n\t\t\t\t\treturn wrap(next)\n\t\t\t\t}\n\t\t\t\treturn promise0\n\t\t\t}\n\t\t}\n\t}\n\tfunction hasHeader(args, name) {\n\t\tfor (var key in args.headers) {\n\t\t\tif ({}.hasOwnProperty.call(args.headers, key) && name.test(key)) return true\n\t\t}\n\t\treturn false\n\t}\n\tfunction interpolate(url, data, assemble) {\n\t\tif (data == null) return url\n\t\turl = url.replace(/:([^\\/]+)/gi, function (m0, key) {\n\t\t\treturn data[key] != null ? data[key] : m0\n\t\t})\n\t\tif (assemble && data != null) {\n\t\t\tvar querystring = buildQueryString(data)\n\t\t\tif (querystring) url += (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") + querystring\n\t\t}\n\t\treturn url\n\t}\n\treturn {\n\t\trequest: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar method = args.method != null ? args.method.toUpperCase() : \"GET\"\n\t\t\tvar useBody = method !== \"GET\" && method !== \"TRACE\" &&\n\t\t\t\t(typeof args.useBody !== \"boolean\" || args.useBody)\n\t\t\tvar data = args.data\n\t\t\tvar assumeJSON = (args.serialize == null || args.serialize === JSON.serialize) && !(data instanceof $window.FormData)\n\t\t\tif (useBody) {\n\t\t\t\tif (typeof args.serialize === \"function\") data = args.serialize(data)\n\t\t\t\telse if (!(data instanceof $window.FormData)) data = JSON.stringify(data)\n\t\t\t}\n\t\t\tvar xhr = new $window.XMLHttpRequest(),\n\t\t\t\taborted = false,\n\t\t\t\t_abort = xhr.abort\n\t\t\txhr.abort = function abort() {\n\t\t\t\taborted = true\n\t\t\t\t_abort.call(xhr)\n\t\t\t}\n\t\t\txhr.open(method, interpolate(url, args.data, !useBody), typeof args.async !== \"boolean\" || args.async, typeof args.user === \"string\" ? args.user : undefined, typeof args.password === \"string\" ? args.password : undefined)\n\t\t\tif (assumeJSON && useBody && !hasHeader(args, /^content-type0$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\")\n\t\t\t}\n\t\t\tif (typeof args.deserialize !== \"function\" && !hasHeader(args, /^accept$/i)) {\n\t\t\t\txhr.setRequestHeader(\"Accept\", \"application/json, text/*\")\n\t\t\t}\n\t\t\tif (args.withCredentials) xhr.withCredentials = args.withCredentials\n\t\t\tif (args.timeout) xhr.timeout = args.timeout\n\t\t\tif (args.responseType) xhr.responseType = args.responseType\n\t\t\tfor (var key in args.headers) {\n\t\t\t\tif ({}.hasOwnProperty.call(args.headers, key)) {\n\t\t\t\t\txhr.setRequestHeader(key, args.headers[key])\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (typeof args.config === \"function\") xhr = args.config(xhr, args) || xhr\n\t\t\txhr.onreadystatechange = function() {\n\t\t\t\t// Don't throw errors on xhr.abort().\n\t\t\t\tif(aborted) return\n\t\t\t\tif (xhr.readyState === 4) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tvar success = (xhr.status >= 200 && xhr.status < 300) || xhr.status === 304 || (/^file:\\/\\//i).test(url)\n\t\t\t\t\t\tvar response = xhr.responseText\n\t\t\t\t\t\tif (typeof args.extract === \"function\") {\n\t\t\t\t\t\t\tresponse = args.extract(xhr, args)\n\t\t\t\t\t\t\tsuccess = true\n\t\t\t\t\t\t} else if (typeof args.deserialize === \"function\") {\n\t\t\t\t\t\t\tresponse = args.deserialize(response)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttry {response = response ? JSON.parse(response) : null}\n\t\t\t\t\t\t\tcatch (e) {throw new Error(\"Invalid JSON: \" + response)}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (success) resolve(response)\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tvar error = new Error(xhr.responseText)\n\t\t\t\t\t\t\terror.code = xhr.status\n\t\t\t\t\t\t\terror.response = response\n\t\t\t\t\t\t\treject(error)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {\n\t\t\t\t\t\treject(e)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (useBody && data != null) xhr.send(data)\n\t\t\telse xhr.send()\n\t\t}),\n\t\tjsonp: makeRequest(function(url, args, resolve, reject) {\n\t\t\tvar callbackName = args.callbackName || \"_mithril_\" + Math.round(Math.random() * 1e16) + \"_\" + callbackCount++\n\t\t\tvar script = $window.document.createElement(\"script\")\n\t\t\t$window[callbackName] = function(data) {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\tresolve(data)\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\tscript.onerror = function() {\n\t\t\t\tscript.parentNode.removeChild(script)\n\t\t\t\treject(new Error(\"JSONP request failed\"))\n\t\t\t\tdelete $window[callbackName]\n\t\t\t}\n\t\t\turl = interpolate(url, args.data, true)\n\t\t\tscript.src = url + (url.indexOf(\"?\") < 0 ? \"?\" : \"&\") +\n\t\t\t\tencodeURIComponent(args.callbackKey || \"callback\") + \"=\" +\n\t\t\t\tencodeURIComponent(callbackName)\n\t\t\t$window.document.documentElement.appendChild(script)\n\t\t}),\n\t\tsetCompletionCallback: function(callback) {\n\t\t\toncompletion = callback\n\t\t},\n\t}\n}\nvar requestService = _12(window, PromisePolyfill)\nvar coreRenderer = function($window) {\n\tvar $doc = $window.document\n\tvar nameSpace = {\n\t\tsvg: \"http://www.w3.org/2000/svg\",\n\t\tmath: \"http://www.w3.org/1998/Math/MathML\"\n\t}\n\tvar redraw0\n\tfunction setRedraw(callback) {return redraw0 = callback}\n\tfunction getNameSpace(vnode3) {\n\t\treturn vnode3.attrs && vnode3.attrs.xmlns || nameSpace[vnode3.tag]\n\t}\n\t//sanity check to discourage people from doing `vnode3.state = ...`\n\tfunction checkState(vnode3, original) {\n\t\tif (vnode3.state !== original) throw new Error(\"`vnode.state` must not be modified\")\n\t}\n\t//Note: the hook is passed as the `this` argument to allow proxying the\n\t//arguments without requiring a full array allocation to do so. It also\n\t//takes advantage of the fact the current `vnode3` is the first argument in\n\t//all lifecycle methods.\n\tfunction callHook(vnode3) {\n\t\tvar original = vnode3.state\n\t\ttry {\n\t\t\treturn this.apply(original, arguments)\n\t\t} finally {\n\t\t\tcheckState(vnode3, original)\n\t\t}\n\t}\n\t// IE11 (at least) throws an UnspecifiedError when accessing document.activeElement when\n\t// inside an iframe. Catch and swallow this error1, and heavy-handidly return null.\n\tfunction activeElement() {\n\t\ttry {\n\t\t\treturn $doc.activeElement\n\t\t} catch (e) {\n\t\t\treturn null\n\t\t}\n\t}\n\t//create\n\tfunction createNodes(parent, vnodes, start, end, hooks, nextSibling, ns) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t}\n\tfunction createNode(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tif (typeof tag === \"string\") {\n\t\t\tvnode3.state = {}\n\t\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\tswitch (tag) {\n\t\t\t\tcase \"#\": createText(parent, vnode3, nextSibling); break\n\t\t\t\tcase \"<\": createHTML(parent, vnode3, ns, nextSibling); break\n\t\t\t\tcase \"[\": createFragment(parent, vnode3, hooks, ns, nextSibling); break\n\t\t\t\tdefault: createElement(parent, vnode3, hooks, ns, nextSibling)\n\t\t\t}\n\t\t}\n\t\telse createComponent(parent, vnode3, hooks, ns, nextSibling)\n\t}\n\tfunction createText(parent, vnode3, nextSibling) {\n\t\tvnode3.dom = $doc.createTextNode(vnode3.children)\n\t\tinsertNode(parent, vnode3.dom, nextSibling)\n\t}\n\tvar possibleParents = {caption: \"table\", thead: \"table\", tbody: \"table\", tfoot: \"table\", tr: \"tbody\", th: \"tr\", td: \"tr\", colgroup: \"table\", col: \"colgroup\"}\n\tfunction createHTML(parent, vnode3, ns, nextSibling) {\n\t\tvar match0 = vnode3.children.match(/^\\s*?<(\\w+)/im) || []\n\t\t// not using the proper parent makes the child element(s) vanish.\n\t\t//     var div = document.createElement(\"div\")\n\t\t//     div.innerHTML = \"<td>i</td><td>j</td>\"\n\t\t//     console.log(div.innerHTML)\n\t\t// --> \"ij\", no <td> in sight.\n\t\tvar temp = $doc.createElement(possibleParents[match0[1]] || \"div\")\n\t\tif (ns === \"http://www.w3.org/2000/svg\") {\n\t\t\ttemp.innerHTML = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\">\" + vnode3.children + \"</svg>\"\n\t\t\ttemp = temp.firstChild\n\t\t} else {\n\t\t\ttemp.innerHTML = vnode3.children\n\t\t}\n\t\tvnode3.dom = temp.firstChild\n\t\tvnode3.domSize = temp.childNodes.length\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tvar child\n\t\twhile (child = temp.firstChild) {\n\t\t\tfragment.appendChild(child)\n\t\t}\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createFragment(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar fragment = $doc.createDocumentFragment()\n\t\tif (vnode3.children != null) {\n\t\t\tvar children3 = vnode3.children\n\t\t\tcreateNodes(fragment, children3, 0, children3.length, hooks, null, ns)\n\t\t}\n\t\tvnode3.dom = fragment.firstChild\n\t\tvnode3.domSize = fragment.childNodes.length\n\t\tinsertNode(parent, fragment, nextSibling)\n\t}\n\tfunction createElement(parent, vnode3, hooks, ns, nextSibling) {\n\t\tvar tag = vnode3.tag\n\t\tvar attrs2 = vnode3.attrs\n\t\tvar is = attrs2 && attrs2.is\n\t\tns = getNameSpace(vnode3) || ns\n\t\tvar element = ns ?\n\t\t\tis ? $doc.createElementNS(ns, tag, {is: is}) : $doc.createElementNS(ns, tag) :\n\t\t\tis ? $doc.createElement(tag, {is: is}) : $doc.createElement(tag)\n\t\tvnode3.dom = element\n\t\tif (attrs2 != null) {\n\t\t\tsetAttrs(vnode3, attrs2, ns)\n\t\t}\n\t\tinsertNode(parent, element, nextSibling)\n\t\tif (attrs2 != null && attrs2.contenteditable != null) {\n\t\t\tsetContentEditable(vnode3)\n\t\t}\n\t\telse {\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tif (vnode3.text !== \"\") element.textContent = vnode3.text\n\t\t\t\telse vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\t}\n\t\t\tif (vnode3.children != null) {\n\t\t\t\tvar children3 = vnode3.children\n\t\t\t\tcreateNodes(element, children3, 0, children3.length, hooks, null, ns)\n\t\t\t\tif (vnode3.tag === \"select\" && attrs2 != null) setLateSelectAttrs(vnode3, attrs2)\n\t\t\t}\n\t\t}\n\t}\n\tfunction initComponent(vnode3, hooks) {\n\t\tvar sentinel\n\t\tif (typeof vnode3.tag.view === \"function\") {\n\t\t\tvnode3.state = Object.create(vnode3.tag)\n\t\t\tsentinel = vnode3.state.view\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t} else {\n\t\t\tvnode3.state = void 0\n\t\t\tsentinel = vnode3.tag\n\t\t\tif (sentinel.$$reentrantLock$$ != null) return\n\t\t\tsentinel.$$reentrantLock$$ = true\n\t\t\tvnode3.state = (vnode3.tag.prototype != null && typeof vnode3.tag.prototype.view === \"function\") ? new vnode3.tag(vnode3) : vnode3.tag(vnode3)\n\t\t}\n\t\tinitLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) initLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tsentinel.$$reentrantLock$$ = null\n\t}\n\tfunction createComponent(parent, vnode3, hooks, ns, nextSibling) {\n\t\tinitComponent(vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tcreateNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.dom != null ? vnode3.instance.domSize : 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t}\n\t//update\n\t/**\n\t * @param {Element|Fragment} parent - the parent element\n\t * @param {Vnode[] | null} old - the list of vnodes of the last `render()` call for\n\t *                               this part of the tree\n\t * @param {Vnode[] | null} vnodes - as above, but for the current `render()` call.\n\t * @param {Function[]} hooks - an accumulator of post-render hooks (oncreate/onupdate)\n\t * @param {Element | null} nextSibling - the next0 DOM node if we're dealing with a\n\t *                                       fragment that is not the last item in its\n\t *                                       parent\n\t * @param {'svg' | 'math' | String | null} ns) - the current XML namespace, if any\n\t * @returns void\n\t */\n\t// This function diffs and patches lists of vnodes, both keyed and unkeyed.\n\t//\n\t// We will:\n\t//\n\t// 1. describe its general structure\n\t// 2. focus on the diff algorithm optimizations\n\t// 3. discuss DOM node operations.\n\t// ## Overview:\n\t//\n\t// The updateNodes() function:\n\t// - deals with trivial cases\n\t// - determines whether the lists are keyed or unkeyed based on the first non-null node\n\t//   of each list.\n\t// - diffs them and patches the DOM if needed (that's the brunt of the code)\n\t// - manages the leftovers: after diffing, are there:\n\t//   - old nodes left to remove?\n\t// \t - new nodes to insert?\n\t// \t deal with them!\n\t//\n\t// The lists are only iterated over once, with an exception for the nodes in `old` that\n\t// are visited in the fourth part of the diff and in the `removeNodes` loop.\n\t// ## Diffing\n\t//\n\t// Reading https://github.com/localvoid/ivi/blob/ddc09d06abaef45248e6133f7040d00d3c6be853/packages/ivi/src/vdom/implementation.ts#L617-L837\n\t// may be good for context on longest increasing subsequence-based logic for moving nodes.\n\t//\n\t// In order to diff keyed lists, one has to\n\t//\n\t// 1) match0 nodes in both lists, per key, and update them accordingly\n\t// 2) create the nodes present in the new list, but absent in the old one\n\t// 3) remove the nodes present in the old list, but absent in the new one\n\t// 4) figure out what nodes in 1) to move in order to minimize the DOM operations.\n\t//\n\t// To achieve 1) one can create a dictionary of keys => index0 (for the old list), then1 iterate\n\t// over the new list and for each new vnode3, find the corresponding vnode3 in the old list using\n\t// the map.\n\t// 2) is achieved in the same step: if a new node has no corresponding entry in the map, it is new\n\t// and must be created.\n\t// For the removals, we actually remove the nodes that have been updated from the old list.\n\t// The nodes that remain in that list after 1) and 2) have been performed can be safely removed.\n\t// The fourth step is a bit more complex and relies on the longest increasing subsequence (LIS)\n\t// algorithm.\n\t//\n\t// the longest increasing subsequence is the list of nodes that can remain in place. Imagine going\n\t// from `1,2,3,4,5` to `4,5,1,2,3` where the numbers are not necessarily the keys, but the indices\n\t// corresponding to the keyed nodes in the old list (keyed nodes `e,d,c,b,a` => `b,a,e,d,c` would\n\t//  match0 the above lists, for example).\n\t//\n\t// In there are two increasing subsequences: `4,5` and `1,2,3`, the latter being the longest. We\n\t// can update those nodes without moving them, and only call `insertNode` on `4` and `5`.\n\t//\n\t// @localvoid adapted the algo to also support node deletions and insertions (the `lis` is actually\n\t// the longest increasing subsequence *of old nodes still present in the new list*).\n\t//\n\t// It is a general algorithm that is fireproof in all circumstances, but it requires the allocation\n\t// and the construction of a `key => oldIndex` map, and three arrays (one with `newIndex => oldIndex`,\n\t// the `LIS` and a temporary one to create the LIS).\n\t//\n\t// So we cheat where we can: if the tails of the lists are identical, they are guaranteed to be part of\n\t// the LIS and can be updated without moving them.\n\t//\n\t// If two nodes are swapped, they are guaranteed not to be part of the LIS, and must be moved (with\n\t// the exception of the last node if the list is fully reversed).\n\t//\n\t// ## Finding the next0 sibling.\n\t//\n\t// `updateNode()` and `createNode()` expect a nextSibling parameter to perform DOM operations.\n\t// When the list is being traversed top-down, at any index0, the DOM nodes up to the previous\n\t// vnode3 reflect the content of the new list, whereas the rest of the DOM nodes reflect the old\n\t// list. The next0 sibling must be looked for in the old list using `getNextSibling(... oldStart + 1 ...)`.\n\t//\n\t// In the other scenarios (swaps, upwards traversal, map-based diff),\n\t// the new vnodes list is traversed upwards. The DOM nodes at the bottom of the list reflect the\n\t// bottom part of the new vnodes list, and we can use the `v.dom`  value of the previous node\n\t// as the next0 sibling (cached in the `nextSibling` variable).\n\t// ## DOM node moves\n\t//\n\t// In most scenarios `updateNode()` and `createNode()` perform the DOM operations. However,\n\t// this is not the case if the node moved (second and fourth part of the diff algo). We move\n\t// the old DOM nodes before updateNode runs0 because it enables us to use the cached `nextSibling`\n\t// variable rather than fetching it using `getNextSibling()`.\n\t//\n\t// The fourth part of the diff currently inserts nodes unconditionally, leading to issues\n\t// like #1791 and #1999. We need to be smarter about those situations where adjascent old\n\t// nodes remain together in the new list in a way that isn't covered by parts one and\n\t// three of the diff algo.\n\tfunction updateNodes(parent, old, vnodes, hooks, nextSibling, ns) {\n\t\tif (old === vnodes || old == null && vnodes == null) return\n\t\telse if (old == null || old.length === 0) createNodes(parent, vnodes, 0, vnodes.length, hooks, nextSibling, ns)\n\t\telse if (vnodes == null || vnodes.length === 0) removeNodes(old, 0, old.length)\n\t\telse {\n\t\t\tvar start = 0, oldStart = 0, isOldKeyed = null, isKeyed = null\n\t\t\tfor (; oldStart < old.length; oldStart++) {\n\t\t\t\tif (old[oldStart] != null) {\n\t\t\t\t\tisOldKeyed = old[oldStart].key != null\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (; start < vnodes.length; start++) {\n\t\t\t\tif (vnodes[start] != null) {\n\t\t\t\t\tisKeyed = vnodes[start].key != null\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isKeyed === null && isOldKeyed == null) return // both lists are full of nulls\n\t\t\tif (isOldKeyed !== isKeyed) {\n\t\t\t\tremoveNodes(old, oldStart, old.length)\n\t\t\t\tcreateNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else if (!isKeyed) {\n\t\t\t\t// Don't index0 past the end of either list (causes deopts).\n\t\t\t\tvar commonLength = old.length < vnodes.length ? old.length : vnodes.length\n\t\t\t\t// Rewind if necessary to the first non-null index0 on either side.\n\t\t\t\t// We could alternatively either explicitly create or remove nodes when `start !== oldStart`\n\t\t\t\t// but that would be optimizing for sparse lists which are more rare than dense ones.\n\t\t\t\tstart = start < oldStart ? start : oldStart\n\t\t\t\tfor (; start < commonLength; start++) {\n\t\t\t\t\to = old[start]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o === v || o == null && v == null) continue\n\t\t\t\t\telse if (o == null) createNode(parent, v, hooks, ns, getNextSibling(old, start + 1, nextSibling))\n\t\t\t\t\telse if (v == null) removeNode(o)\n\t\t\t\t\telse updateNode(parent, o, v, hooks, getNextSibling(old, start + 1, nextSibling), ns)\n\t\t\t\t}\n\t\t\t\tif (old.length > commonLength) removeNodes(old, start, old.length)\n\t\t\t\tif (vnodes.length > commonLength) createNodes(parent, vnodes, start, vnodes.length, hooks, nextSibling, ns)\n\t\t\t} else {\n\t\t\t\t// keyed diff\n\t\t\t\tvar oldEnd = old.length - 1, end = vnodes.length - 1, map, o, v, oe, ve, topSibling\n\t\t\t\t// bottom-up\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\tif (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (oe.key === ve.key) {\n\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldEnd--, end--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// top-down\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t\tif (o == null) oldStart++\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (o.key === v.key) {\n\t\t\t\t\t\toldStart++, start++\n\t\t\t\t\t\tif (o !== v) updateNode(parent, o, v, hooks, getNextSibling(old, oldStart, nextSibling), ns)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// swaps and list reversals\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (o == null) oldStart++\n\t\t\t\t\telse if (v == null) start++\n\t\t\t\t\telse if (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (start === end) break\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (o.key !== ve.key || oe.key !== v.key) break\n\t\t\t\t\t\ttopSibling = getNextSibling(old, oldStart, nextSibling)\n\t\t\t\t\t\tinsertNode(parent, toFragment(oe), topSibling)\n\t\t\t\t\t\tif (oe !== v) updateNode(parent, oe, v, hooks, topSibling, ns)\n\t\t\t\t\t\tif (++start <= --end) insertNode(parent, toFragment(o), nextSibling)\n\t\t\t\t\t\tif (o !== ve) updateNode(parent, o, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldStart++; oldEnd--\n\t\t\t\t\t}\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t\to = old[oldStart]\n\t\t\t\t\tv = vnodes[start]\n\t\t\t\t}\n\t\t\t\t// bottom up once again\n\t\t\t\twhile (oldEnd >= oldStart && end >= start) {\n\t\t\t\t\tif (oe == null) oldEnd--\n\t\t\t\t\telse if (ve == null) end--\n\t\t\t\t\telse if (oe.key === ve.key) {\n\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\toldEnd--, end--\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\toe = old[oldEnd]\n\t\t\t\t\tve = vnodes[end]\n\t\t\t\t}\n\t\t\t\tif (start > end) removeNodes(old, oldStart, oldEnd + 1)\n\t\t\t\telse if (oldStart > oldEnd) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\telse {\n\t\t\t\t\t// inspired by ivi https://github.com/ivijs/ivi/ by Boris Kaul\n\t\t\t\t\tvar originalNextSibling = nextSibling, vnodesLength = end - start + 1, oldIndices = new Array(vnodesLength), li=0, i=0, pos = 2147483647, matched = 0, map, lisIndices\n\t\t\t\t\tfor (i = 0; i < vnodesLength; i++) oldIndices[i] = -1\n\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\tif (map == null) map = getKeyMap(old, oldStart, oldEnd + 1)\n\t\t\t\t\t\tve = vnodes[i]\n\t\t\t\t\t\tif (ve != null) {\n\t\t\t\t\t\t\tvar oldIndex = map[ve.key]\n\t\t\t\t\t\t\tif (oldIndex != null) {\n\t\t\t\t\t\t\t\tpos = (oldIndex < pos) ? oldIndex : -1 // becomes -1 if nodes were re-ordered\n\t\t\t\t\t\t\t\toldIndices[i-start] = oldIndex\n\t\t\t\t\t\t\t\toe = old[oldIndex]\n\t\t\t\t\t\t\t\told[oldIndex] = null\n\t\t\t\t\t\t\t\tif (oe !== ve) updateNode(parent, oe, ve, hooks, nextSibling, ns)\n\t\t\t\t\t\t\t\tif (ve.dom != null) nextSibling = ve.dom\n\t\t\t\t\t\t\t\tmatched++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tnextSibling = originalNextSibling\n\t\t\t\t\tif (matched !== oldEnd - oldStart + 1) removeNodes(old, oldStart, oldEnd + 1)\n\t\t\t\t\tif (matched === 0) createNodes(parent, vnodes, start, end + 1, hooks, nextSibling, ns)\n\t\t\t\t\telse {\n\t\t\t\t\t\tif (pos === -1) {\n\t\t\t\t\t\t\t// the indices of the indices of the items that are part of the\n\t\t\t\t\t\t\t// longest increasing subsequence in the oldIndices list\n\t\t\t\t\t\t\tlisIndices = makeLisIndices(oldIndices)\n\t\t\t\t\t\t\tli = lisIndices.length - 1\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\tif (lisIndices[li] === i - start) li--\n\t\t\t\t\t\t\t\t\telse insertNode(parent, toFragment(v), nextSibling)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tfor (i = end; i >= start; i--) {\n\t\t\t\t\t\t\t\tv = vnodes[i]\n\t\t\t\t\t\t\t\tif (oldIndices[i-start] === -1) createNode(parent, v, hooks, ns, nextSibling)\n\t\t\t\t\t\t\t\tif (v.dom != null) nextSibling = vnodes[i].dom\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction updateNode(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvar oldTag = old.tag, tag = vnode3.tag\n\t\tif (oldTag === tag) {\n\t\t\tvnode3.state = old.state\n\t\t\tvnode3.events = old.events\n\t\t\tif (shouldNotUpdate(vnode3, old)) return\n\t\t\tif (typeof oldTag === \"string\") {\n\t\t\t\tif (vnode3.attrs != null) {\n\t\t\t\t\tupdateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\t\t\t}\n\t\t\t\tswitch (oldTag) {\n\t\t\t\t\tcase \"#\": updateText(old, vnode3); break\n\t\t\t\t\tcase \"<\": updateHTML(parent, old, vnode3, ns, nextSibling); break\n\t\t\t\t\tcase \"[\": updateFragment(parent, old, vnode3, hooks, nextSibling, ns); break\n\t\t\t\t\tdefault: updateElement(old, vnode3, hooks, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t\telse updateComponent(parent, old, vnode3, hooks, nextSibling, ns)\n\t\t}\n\t\telse {\n\t\t\tremoveNode(old)\n\t\t\tcreateNode(parent, vnode3, hooks, ns, nextSibling)\n\t\t}\n\t}\n\tfunction updateText(old, vnode3) {\n\t\tif (old.children.toString() !== vnode3.children.toString()) {\n\t\t\told.dom.nodeValue = vnode3.children\n\t\t}\n\t\tvnode3.dom = old.dom\n\t}\n\tfunction updateHTML(parent, old, vnode3, ns, nextSibling) {\n\t\tif (old.children !== vnode3.children) {\n\t\t\ttoFragment(old)\n\t\t\tcreateHTML(parent, vnode3, ns, nextSibling)\n\t\t}\n\t\telse vnode3.dom = old.dom, vnode3.domSize = old.domSize\n\t}\n\tfunction updateFragment(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tupdateNodes(parent, old.children, vnode3.children, hooks, nextSibling, ns)\n\t\tvar domSize = 0, children3 = vnode3.children\n\t\tvnode3.dom = null\n\t\tif (children3 != null) {\n\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\tvar child = children3[i]\n\t\t\t\tif (child != null && child.dom != null) {\n\t\t\t\t\tif (vnode3.dom == null) vnode3.dom = child.dom\n\t\t\t\t\tdomSize += child.domSize || 1\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (domSize !== 1) vnode3.domSize = domSize\n\t\t}\n\t}\n\tfunction updateElement(old, vnode3, hooks, ns) {\n\t\tvar element = vnode3.dom = old.dom\n\t\tns = getNameSpace(vnode3) || ns\n\t\tif (vnode3.tag === \"textarea\") {\n\t\t\tif (vnode3.attrs == null) vnode3.attrs = {}\n\t\t\tif (vnode3.text != null) {\n\t\t\t\tvnode3.attrs.value = vnode3.text //FIXME handle0 multiple children3\n\t\t\t\tvnode3.text = undefined\n\t\t\t}\n\t\t}\n\t\tupdateAttrs(vnode3, old.attrs, vnode3.attrs, ns)\n\t\tif (vnode3.attrs != null && vnode3.attrs.contenteditable != null) {\n\t\t\tsetContentEditable(vnode3)\n\t\t}\n\t\telse if (old.text != null && vnode3.text != null && vnode3.text !== \"\") {\n\t\t\tif (old.text.toString() !== vnode3.text.toString()) old.dom.firstChild.nodeValue = vnode3.text\n\t\t}\n\t\telse {\n\t\t\tif (old.text != null) old.children = [Vnode(\"#\", undefined, undefined, old.text, undefined, old.dom.firstChild)]\n\t\t\tif (vnode3.text != null) vnode3.children = [Vnode(\"#\", undefined, undefined, vnode3.text, undefined, undefined)]\n\t\t\tupdateNodes(element, old.children, vnode3.children, hooks, null, ns)\n\t\t}\n\t}\n\tfunction updateComponent(parent, old, vnode3, hooks, nextSibling, ns) {\n\t\tvnode3.instance = Vnode.normalize(callHook.call(vnode3.state.view, vnode3))\n\t\tif (vnode3.instance === vnode3) throw Error(\"A view cannot return the vnode it received as argument\")\n\t\tupdateLifecycle(vnode3.state, vnode3, hooks)\n\t\tif (vnode3.attrs != null) updateLifecycle(vnode3.attrs, vnode3, hooks)\n\t\tif (vnode3.instance != null) {\n\t\t\tif (old.instance == null) createNode(parent, vnode3.instance, hooks, ns, nextSibling)\n\t\t\telse updateNode(parent, old.instance, vnode3.instance, hooks, nextSibling, ns)\n\t\t\tvnode3.dom = vnode3.instance.dom\n\t\t\tvnode3.domSize = vnode3.instance.domSize\n\t\t}\n\t\telse if (old.instance != null) {\n\t\t\tremoveNode(old.instance)\n\t\t\tvnode3.dom = undefined\n\t\t\tvnode3.domSize = 0\n\t\t}\n\t\telse {\n\t\t\tvnode3.dom = old.dom\n\t\t\tvnode3.domSize = old.domSize\n\t\t}\n\t}\n\tfunction getKeyMap(vnodes, start, end) {\n\t\tvar map = Object.create(null)\n\t\tfor (; start < end; start++) {\n\t\t\tvar vnode3 = vnodes[start]\n\t\t\tif (vnode3 != null) {\n\t\t\t\tvar key = vnode3.key\n\t\t\t\tif (key != null) map[key] = start\n\t\t\t}\n\t\t}\n\t\treturn map\n\t}\n\t// Lifted from ivi https://github.com/ivijs/ivi/\n\t// takes a list of unique numbers (-1 is special and can\n\t// occur multiple times) and returns an array with the indices\n\t// of the items that are part of the longest increasing\n\t// subsequece\n\tfunction makeLisIndices(a) {\n\t\tvar p = a.slice()\n\t\tvar result = []\n\t\tresult.push(0)\n\t\tvar u\n\t\tvar v\n\t\tfor (var i = 0, il = a.length; i < il; ++i) {\n\t\t\tif (a[i] === -1) {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tvar j = result[result.length - 1]\n\t\t\tif (a[j] < a[i]) {\n\t\t\t\tp[i] = j\n\t\t\t\tresult.push(i)\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tu = 0\n\t\t\tv = result.length - 1\n\t\t\twhile (u < v) {\n\t\t\t\tvar c = ((u + v) / 2) | 0 // eslint-disable-line no-bitwise\n\t\t\t\tif (a[result[c]] < a[i]) {\n\t\t\t\t\tu = c + 1\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tv = c\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (a[i] < a[result[u]]) {\n\t\t\t\tif (u > 0) {\n\t\t\t\t\tp[i] = result[u - 1]\n\t\t\t\t}\n\t\t\t\tresult[u] = i\n\t\t\t}\n\t\t}\n\t\tu = result.length\n\t\tv = result[u - 1]\n\t\twhile (u-- > 0) {\n\t\t\tresult[u] = v\n\t\t\tv = p[v]\n\t\t}\n\t\treturn result\n\t}\n\tfunction toFragment(vnode3) {\n\t\tvar count0 = vnode3.domSize\n\t\tif (count0 != null || vnode3.dom == null) {\n\t\t\tvar fragment = $doc.createDocumentFragment()\n\t\t\tif (count0 > 0) {\n\t\t\t\tvar dom = vnode3.dom\n\t\t\t\twhile (--count0) fragment.appendChild(dom.nextSibling)\n\t\t\t\tfragment.insertBefore(dom, fragment.firstChild)\n\t\t\t}\n\t\t\treturn fragment\n\t\t}\n\t\telse return vnode3.dom\n\t}\n\tfunction getNextSibling(vnodes, i, nextSibling) {\n\t\tfor (; i < vnodes.length; i++) {\n\t\t\tif (vnodes[i] != null && vnodes[i].dom != null) return vnodes[i].dom\n\t\t}\n\t\treturn nextSibling\n\t}\n\tfunction insertNode(parent, dom, nextSibling) {\n\t\tif (nextSibling != null) parent.insertBefore(dom, nextSibling)\n\t\telse parent.appendChild(dom)\n\t}\n\tfunction setContentEditable(vnode3) {\n\t\tvar children3 = vnode3.children\n\t\tif (children3 != null && children3.length === 1 && children3[0].tag === \"<\") {\n\t\t\tvar content = children3[0].children\n\t\t\tif (vnode3.dom.innerHTML !== content) vnode3.dom.innerHTML = content\n\t\t}\n\t\telse if (vnode3.text != null || children3 != null && children3.length !== 0) throw new Error(\"Child node of a contenteditable must be trusted\")\n\t}\n\t//remove\n\tfunction removeNodes(vnodes, start, end) {\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tvar vnode3 = vnodes[i]\n\t\t\tif (vnode3 != null) removeNode(vnode3)\n\t\t}\n\t}\n\tfunction removeNode(vnode3) {\n\t\tvar expected = 1, called = 0\n\t\tvar original = vnode3.state\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.state.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onbeforeremove === \"function\") {\n\t\t\tvar result = callHook.call(vnode3.attrs.onbeforeremove, vnode3)\n\t\t\tif (result != null && typeof result.then === \"function\") {\n\t\t\t\texpected++\n\t\t\t\tresult.then(continuation, continuation)\n\t\t\t}\n\t\t}\n\t\tcontinuation()\n\t\tfunction continuation() {\n\t\t\tif (++called === expected) {\n\t\t\t\tcheckState(vnode3, original)\n\t\t\t\tonremove(vnode3)\n\t\t\t\tif (vnode3.dom) {\n\t\t\t\t\tvar parent = vnode3.dom.parentNode\n\t\t\t\t\tvar count0 = vnode3.domSize || 1\n\t\t\t\t\twhile (--count0) parent.removeChild(vnode3.dom.nextSibling)\n\t\t\t\t\tparent.removeChild(vnode3.dom)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction onremove(vnode3) {\n\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onremove === \"function\") callHook.call(vnode3.state.onremove, vnode3)\n\t\tif (vnode3.attrs && typeof vnode3.attrs.onremove === \"function\") callHook.call(vnode3.attrs.onremove, vnode3)\n\t\tif (typeof vnode3.tag !== \"string\") {\n\t\t\tif (vnode3.instance != null) onremove(vnode3.instance)\n\t\t} else {\n\t\t\tvar children3 = vnode3.children\n\t\t\tif (Array.isArray(children3)) {\n\t\t\t\tfor (var i = 0; i < children3.length; i++) {\n\t\t\t\t\tvar child = children3[i]\n\t\t\t\t\tif (child != null) onremove(child)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t//attrs2\n\tfunction setAttrs(vnode3, attrs2, ns) {\n\t\tfor (var key in attrs2) {\n\t\t\tsetAttr(vnode3, key, null, attrs2[key], ns)\n\t\t}\n\t}\n\tfunction setAttr(vnode3, key, old, value, ns) {\n\t\tif (key === \"key\" || key === \"is\" || value == null || isLifecycleMethod(key) || (old === value && !isFormAttribute(vnode3, key)) && typeof value !== \"object\") return\n\t\tif (key[0] === \"o\" && key[1] === \"n\") return updateEvent(vnode3, key, value)\n\t\tif (key.slice(0, 6) === \"xlink:\") vnode3.dom.setAttributeNS(\"http://www.w3.org/1999/xlink\", key.slice(6), value)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, value)\n\t\telse if (hasPropertyKey(vnode3, key, ns)) {\n\t\t\tif (key === \"value\") {\n\t\t\t\t// Only do the coercion if we're actually going to check the value.\n\t\t\t\t/* eslint-disable no-implicit-coercion */\n\t\t\t\t//setting input[value] to same value by typing on focused element moves cursor to end in Chrome\n\t\t\t\tif ((vnode3.tag === \"input\" || vnode3.tag === \"textarea\") && vnode3.dom.value === \"\" + value && vnode3.dom === activeElement()) return\n\t\t\t\t//setting select[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"select\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t//setting option[value] to same value while having select open blinks select dropdown in Chrome\n\t\t\t\tif (vnode3.tag === \"option\" && old !== null && vnode3.dom.value === \"\" + value) return\n\t\t\t\t/* eslint-enable no-implicit-coercion */\n\t\t\t}\n\t\t\t// If you assign an input type1 that is not supported by IE 11 with an assignment expression, an error1 will occur.\n\t\t\tif (vnode3.tag === \"input\" && key === \"type\") vnode3.dom.setAttribute(key, value)\n\t\t\telse vnode3.dom[key] = value\n\t\t} else {\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\tif (value) vnode3.dom.setAttribute(key, \"\")\n\t\t\t\telse vnode3.dom.removeAttribute(key)\n\t\t\t}\n\t\t\telse vnode3.dom.setAttribute(key === \"className\" ? \"class\" : key, value)\n\t\t}\n\t}\n\tfunction removeAttr(vnode3, key, old, ns) {\n\t\tif (key === \"key\" || key === \"is\" || old == null || isLifecycleMethod(key)) return\n\t\tif (key[0] === \"o\" && key[1] === \"n\" && !isLifecycleMethod(key)) updateEvent(vnode3, key, undefined)\n\t\telse if (key === \"style\") updateStyle(vnode3.dom, old, null)\n\t\telse if (\n\t\t\thasPropertyKey(vnode3, key, ns)\n\t\t\t&& key !== \"className\"\n\t\t\t&& !(key === \"value\" && (\n\t\t\t\tvnode3.tag === \"option\"\n\t\t\t\t|| vnode3.tag === \"select\" && vnode3.dom.selectedIndex === -1 && vnode3.dom === activeElement()\n\t\t\t))\n\t\t\t&& !(vnode3.tag === \"input\" && key === \"type\")\n\t\t) {\n\t\t\tvnode3.dom[key] = null\n\t\t} else {\n\t\t\tvar nsLastIndex = key.indexOf(\":\")\n\t\t\tif (nsLastIndex !== -1) key = key.slice(nsLastIndex + 1)\n\t\t\tif (old !== false) vnode3.dom.removeAttribute(key === \"className\" ? \"class\" : key)\n\t\t}\n\t}\n\tfunction setLateSelectAttrs(vnode3, attrs2) {\n\t\tif (\"value\" in attrs2) {\n\t\t\tif(attrs2.value === null) {\n\t\t\t\tif (vnode3.dom.selectedIndex !== -1) vnode3.dom.value = null\n\t\t\t} else {\n\t\t\t\tvar normalized = \"\" + attrs2.value // eslint-disable-line no-implicit-coercion\n\t\t\t\tif (vnode3.dom.value !== normalized || vnode3.dom.selectedIndex === -1) {\n\t\t\t\t\tvnode3.dom.value = normalized\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (\"selectedIndex\" in attrs2) setAttr(vnode3, \"selectedIndex\", null, attrs2.selectedIndex, undefined)\n\t}\n\tfunction updateAttrs(vnode3, old, attrs2, ns) {\n\t\tif (attrs2 != null) {\n\t\t\tfor (var key in attrs2) {\n\t\t\t\tsetAttr(vnode3, key, old && old[key], attrs2[key], ns)\n\t\t\t}\n\t\t}\n\t\tvar val\n\t\tif (old != null) {\n\t\t\tfor (var key in old) {\n\t\t\t\tif (((val = old[key]) != null) && (attrs2 == null || attrs2[key] == null)) {\n\t\t\t\t\tremoveAttr(vnode3, key, val, ns)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tfunction isFormAttribute(vnode3, attr) {\n\t\treturn attr === \"value\" || attr === \"checked\" || attr === \"selectedIndex\" || attr === \"selected\" && vnode3.dom === activeElement() || vnode3.tag === \"option\" && vnode3.dom.parentNode === $doc.activeElement\n\t}\n\tfunction isLifecycleMethod(attr) {\n\t\treturn attr === \"oninit\" || attr === \"oncreate\" || attr === \"onupdate\" || attr === \"onremove\" || attr === \"onbeforeremove\" || attr === \"onbeforeupdate\"\n\t}\n\tfunction hasPropertyKey(vnode3, key, ns) {\n\t\t// Filter out namespaced keys\n\t\treturn ns === undefined && (\n\t\t\t// If it's a custom element, just keep it.\n\t\t\tvnode3.tag.indexOf(\"-\") > -1 || vnode3.attrs != null && vnode3.attrs.is ||\n\t\t\t// If it's a normal element, let's try to avoid a few browser bugs.\n\t\t\tkey !== \"href\" && key !== \"list\" && key !== \"form\" && key !== \"width\" && key !== \"height\"// && key !== \"type\"\n\t\t\t// Defer the property check until *after* we check everything.\n\t\t) && key in vnode3.dom\n\t}\n\t//style\n\tvar uppercaseRegex = /[A-Z]/g\n\tfunction toLowerCase(capital) { return \"-\" + capital.toLowerCase() }\n\tfunction normalizeKey(key) {\n\t\treturn key[0] === \"-\" && key[1] === \"-\" ? key :\n\t\t\tkey === \"cssFloat\" ? \"float\" :\n\t\t\t\tkey.replace(uppercaseRegex, toLowerCase)\n\t}\n\tfunction updateStyle(element, old, style) {\n\t\tif (old === style) {\n\t\t\t// Styles are equivalent, do nothing.\n\t\t} else if (style == null) {\n\t\t\t// New style is missing, just clear it.\n\t\t\telement.style.cssText = \"\"\n\t\t} else if (typeof style !== \"object\") {\n\t\t\t// New style is a string, let engine deal with patching.\n\t\t\telement.style.cssText = style\n\t\t} else if (old == null || typeof old !== \"object\") {\n\t\t\t// `old` is missing or a string, `style` is an object.\n\t\t\telement.style.cssText = \"\"\n\t\t\t// Add new style properties\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null) element.style.setProperty(normalizeKey(key), String(value))\n\t\t\t}\n\t\t} else {\n\t\t\t// Both old & new are (different) objects.\n\t\t\t// Update style properties that have changed\n\t\t\tfor (var key in style) {\n\t\t\t\tvar value = style[key]\n\t\t\t\tif (value != null && (value = String(value)) !== String(old[key])) {\n\t\t\t\t\telement.style.setProperty(normalizeKey(key), value)\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Remove style properties that no longer exist\n\t\t\tfor (var key in old) {\n\t\t\t\tif (old[key] != null && style[key] == null) {\n\t\t\t\t\telement.style.removeProperty(normalizeKey(key))\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Here's an explanation of how this works:\n\t// 1. The event names are always (by design) prefixed by `on`.\n\t// 2. The EventListener interface accepts either a function or an object\n\t//    with a `handleEvent` method0.\n\t// 3. The object does not inherit from `Object.prototype`, to avoid\n\t//    any potential interference with that (e.g. setters).\n\t// 4. The event name is remapped to the handler0 before calling it.\n\t// 5. In function-based event handlers, `ev.target === this`. We replicate\n\t//    that below.\n\t// 6. In function-based event handlers, `return false` prevents the default\n\t//    action and stops event propagation. We replicate that below.\n\tfunction EventDict() {}\n\tEventDict.prototype = Object.create(null)\n\tEventDict.prototype.handleEvent = function (ev) {\n\t\tvar handler0 = this[\"on\" + ev.type]\n\t\tvar result\n\t\tif (typeof handler0 === \"function\") result = handler0.call(ev.currentTarget, ev)\n\t\telse if (typeof handler0.handleEvent === \"function\") handler0.handleEvent(ev)\n\t\tif (ev.redraw === false) ev.redraw = undefined\n\t\telse if (typeof redraw0 === \"function\") redraw0()\n\t\tif (result === false) {\n\t\t\tev.preventDefault()\n\t\t\tev.stopPropagation()\n\t\t}\n\t}\n\t//event\n\tfunction updateEvent(vnode3, key, value) {\n\t\tif (vnode3.events != null) {\n\t\t\tif (vnode3.events[key] === value) return\n\t\t\tif (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\t\tif (vnode3.events[key] == null) vnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = value\n\t\t\t} else {\n\t\t\t\tif (vnode3.events[key] != null) vnode3.dom.removeEventListener(key.slice(2), vnode3.events, false)\n\t\t\t\tvnode3.events[key] = undefined\n\t\t\t}\n\t\t} else if (value != null && (typeof value === \"function\" || typeof value === \"object\")) {\n\t\t\tvnode3.events = new EventDict()\n\t\t\tvnode3.dom.addEventListener(key.slice(2), vnode3.events, false)\n\t\t\tvnode3.events[key] = value\n\t\t}\n\t}\n\t//lifecycle\n\tfunction initLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.oninit === \"function\") callHook.call(source.oninit, vnode3)\n\t\tif (typeof source.oncreate === \"function\") hooks.push(callHook.bind(source.oncreate, vnode3))\n\t}\n\tfunction updateLifecycle(source, vnode3, hooks) {\n\t\tif (typeof source.onupdate === \"function\") hooks.push(callHook.bind(source.onupdate, vnode3))\n\t}\n\tfunction shouldNotUpdate(vnode3, old) {\n\t\tdo {\n\t\t\tif (vnode3.attrs != null && typeof vnode3.attrs.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.attrs.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\tif (typeof vnode3.tag !== \"string\" && typeof vnode3.state.onbeforeupdate === \"function\") {\n\t\t\t\tvar force = callHook.call(vnode3.state.onbeforeupdate, vnode3, old)\n\t\t\t\tif (force !== undefined && !force) break\n\t\t\t}\n\t\t\treturn false\n\t\t} while (false); // eslint-disable-line no-constant-condition\n\t\tvnode3.dom = old.dom\n\t\tvnode3.domSize = old.domSize\n\t\tvnode3.instance = old.instance\n\t\treturn true\n\t}\n\tfunction render(dom, vnodes) {\n\t\tif (!dom) throw new Error(\"Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.\")\n\t\tvar hooks = []\n\t\tvar active = activeElement()\n\t\tvar namespace = dom.namespaceURI\n\t\t// First time rendering0 into a node clears it out\n\t\tif (dom.vnodes == null) dom.textContent = \"\"\n\t\tvnodes = Vnode.normalizeChildren(Array.isArray(vnodes) ? vnodes : [vnodes])\n\t\tupdateNodes(dom, dom.vnodes, vnodes, hooks, null, namespace === \"http://www.w3.org/1999/xhtml\" ? undefined : namespace)\n\t\tdom.vnodes = vnodes\n\t\t// `document.activeElement` can return null: https://html.spec.whatwg.org/multipage/interaction.html#dom-document-activeelement\n\t\tif (active != null && activeElement() !== active && typeof active.focus === \"function\") active.focus()\n\t\tfor (var i = 0; i < hooks.length; i++) hooks[i]()\n\t}\n\treturn {render: render, setRedraw: setRedraw}\n}\nfunction throttle(callback) {\n\tvar pending = null\n\treturn function() {\n\t\tif (pending === null) {\n\t\t\tpending = requestAnimationFrame(function() {\n\t\t\t\tpending = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n}\nvar _15 = function($window, throttleMock) {\n\tvar renderService = coreRenderer($window)\n\tvar callbacks = []\n\tvar rendering = false\n\tfunction subscribe(key, callback) {\n\t\tunsubscribe(key)\n\t\tcallbacks.push(key, callback)\n\t}\n\tfunction unsubscribe(key) {\n\t\tvar index = callbacks.indexOf(key)\n\t\tif (index > -1) callbacks.splice(index, 2)\n\t}\n\tfunction sync() {\n\t\tif (rendering) throw new Error(\"Nested m.redraw.sync() call\")\n\t\trendering = true\n\t\tfor (var i = 1; i < callbacks.length; i+=2) try {callbacks[i]()} catch (e) {if (typeof console !== \"undefined\") console.error(e)}\n\t\trendering = false\n\t}\n\tvar redraw = (throttleMock || throttle)(sync)\n\tredraw.sync = sync\n\trenderService.setRedraw(redraw)\n\treturn {subscribe: subscribe, unsubscribe: unsubscribe, redraw: redraw, render: renderService.render}\n}\nvar redrawService = _15(window)\nrequestService.setCompletionCallback(redrawService.redraw)\nvar _20 = function(redrawService0) {\n\treturn function(root, component) {\n\t\tif (component === null) {\n\t\t\tredrawService0.render(root, [])\n\t\t\tredrawService0.unsubscribe(root)\n\t\t\treturn\n\t\t}\n\t\t\n\t\tif (component.view == null && typeof component !== \"function\") throw new Error(\"m.mount(element, component) expects a component, not a vnode\")\n\t\t\n\t\tvar run0 = function() {\n\t\t\tredrawService0.render(root, Vnode(component))\n\t\t}\n\t\tredrawService0.subscribe(root, run0)\n\t\trun0()\n\t}\n}\nm.mount = _20(redrawService)\nvar Promise = PromisePolyfill\nvar parseQueryString = function(string) {\n\tif (string === \"\" || string == null) return {}\n\tif (string.charAt(0) === \"?\") string = string.slice(1)\n\tvar entries = string.split(\"&\"), data2 = {}, counters = {}\n\tfor (var i = 0; i < entries.length; i++) {\n\t\tvar entry = entries[i].split(\"=\")\n\t\tvar key2 = decodeURIComponent(entry[0])\n\t\tvar value0 = entry.length === 2 ? decodeURIComponent(entry[1]) : \"\"\n\t\tif (value0 === \"true\") value0 = true\n\t\telse if (value0 === \"false\") value0 = false\n\t\tvar levels = key2.split(/\\]\\[?|\\[/)\n\t\tvar cursor = data2\n\t\tif (key2.indexOf(\"[\") > -1) levels.pop()\n\t\tfor (var j0 = 0; j0 < levels.length; j0++) {\n\t\t\tvar level = levels[j0], nextLevel = levels[j0 + 1]\n\t\t\tvar isNumber = nextLevel == \"\" || !isNaN(parseInt(nextLevel, 10))\n\t\t\tvar isValue = j0 === levels.length - 1\n\t\t\tif (level === \"\") {\n\t\t\t\tvar key2 = levels.slice(0, j0).join()\n\t\t\t\tif (counters[key2] == null) counters[key2] = 0\n\t\t\t\tlevel = counters[key2]++\n\t\t\t}\n\t\t\tif (cursor[level] == null) {\n\t\t\t\tcursor[level] = isValue ? value0 : isNumber ? [] : {}\n\t\t\t}\n\t\t\tcursor = cursor[level]\n\t\t}\n\t}\n\treturn data2\n}\nvar coreRouter = function($window) {\n\tvar supportsPushState = typeof $window.history.pushState === \"function\"\n\tvar callAsync0 = typeof setImmediate === \"function\" ? setImmediate : setTimeout\n\tfunction normalize(fragment0) {\n\t\tvar data1 = $window.location[fragment0].replace(/(?:%[a-f89][a-f0-9])+/gim, decodeURIComponent)\n\t\tif (fragment0 === \"pathname\" && data1[0] !== \"/\") data1 = \"/\" + data1\n\t\treturn data1\n\t}\n\tvar asyncId\n\tfunction debounceAsync(callback) {\n\t\treturn function() {\n\t\t\tif (asyncId != null) return\n\t\t\tasyncId = callAsync0(function() {\n\t\t\t\tasyncId = null\n\t\t\t\tcallback()\n\t\t\t})\n\t\t}\n\t}\n\tfunction parsePath(path, queryData, hashData) {\n\t\tvar queryIndex = path.indexOf(\"?\")\n\t\tvar hashIndex = path.indexOf(\"#\")\n\t\tvar pathEnd = queryIndex > -1 ? queryIndex : hashIndex > -1 ? hashIndex : path.length\n\t\tif (queryIndex > -1) {\n\t\t\tvar queryEnd = hashIndex > -1 ? hashIndex : path.length\n\t\t\tvar queryParams = parseQueryString(path.slice(queryIndex + 1, queryEnd))\n\t\t\tfor (var key1 in queryParams) queryData[key1] = queryParams[key1]\n\t\t}\n\t\tif (hashIndex > -1) {\n\t\t\tvar hashParams = parseQueryString(path.slice(hashIndex + 1))\n\t\t\tfor (var key1 in hashParams) hashData[key1] = hashParams[key1]\n\t\t}\n\t\treturn path.slice(0, pathEnd)\n\t}\n\tvar router = {prefix: \"#!\"}\n\trouter.getPath = function() {\n\t\tvar type2 = router.prefix.charAt(0)\n\t\tswitch (type2) {\n\t\t\tcase \"#\": return normalize(\"hash\").slice(router.prefix.length)\n\t\t\tcase \"?\": return normalize(\"search\").slice(router.prefix.length) + normalize(\"hash\")\n\t\t\tdefault: return normalize(\"pathname\").slice(router.prefix.length) + normalize(\"search\") + normalize(\"hash\")\n\t\t}\n\t}\n\trouter.setPath = function(path, data1, options) {\n\t\tvar queryData = {}, hashData = {}\n\t\tpath = parsePath(path, queryData, hashData)\n\t\tif (data1 != null) {\n\t\t\tfor (var key1 in data1) queryData[key1] = data1[key1]\n\t\t\tpath = path.replace(/:([^\\/]+)/g, function(match1, token) {\n\t\t\t\tdelete queryData[token]\n\t\t\t\treturn data1[token]\n\t\t\t})\n\t\t}\n\t\tvar query = buildQueryString(queryData)\n\t\tif (query) path += \"?\" + query\n\t\tvar hash = buildQueryString(hashData)\n\t\tif (hash) path += \"#\" + hash\n\t\tif (supportsPushState) {\n\t\t\tvar state = options ? options.state : null\n\t\t\tvar title = options ? options.title : null\n\t\t\t$window.onpopstate()\n\t\t\tif (options && options.replace) $window.history.replaceState(state, title, router.prefix + path)\n\t\t\telse $window.history.pushState(state, title, router.prefix + path)\n\t\t}\n\t\telse $window.location.href = router.prefix + path\n\t}\n\trouter.defineRoutes = function(routes, resolve, reject) {\n\t\tfunction resolveRoute() {\n\t\t\tvar path = router.getPath()\n\t\t\tvar params = {}\n\t\t\tvar pathname = parsePath(path, params, params)\n\t\t\tvar state = $window.history.state\n\t\t\tif (state != null) {\n\t\t\t\tfor (var k in state) params[k] = state[k]\n\t\t\t}\n\t\t\tfor (var route0 in routes) {\n\t\t\t\tvar matcher = new RegExp(\"^\" + route0.replace(/:[^\\/]+?\\.{3}/g, \"(.*?)\").replace(/:[^\\/]+/g, \"([^\\\\/]+)\") + \"\\/?$\")\n\t\t\t\tif (matcher.test(pathname)) {\n\t\t\t\t\tpathname.replace(matcher, function() {\n\t\t\t\t\t\tvar keys = route0.match(/:[^\\/]+/g) || []\n\t\t\t\t\t\tvar values = [].slice.call(arguments, 1, -2)\n\t\t\t\t\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\t\t\t\t\tparams[keys[i].replace(/:|\\./g, \"\")] = decodeURIComponent(values[i])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(routes[route0], params, path, route0)\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\t\t\treject(path, params)\n\t\t}\n\t\tif (supportsPushState) $window.onpopstate = debounceAsync(resolveRoute)\n\t\telse if (router.prefix.charAt(0) === \"#\") $window.onhashchange = resolveRoute\n\t\tresolveRoute()\n\t}\n\treturn router\n}\nvar _24 = function($window, redrawService0) {\n\tvar routeService = coreRouter($window)\n\tvar identity = function(v0) {return v0}\n\tvar render1, component, attrs3, currentPath, lastUpdate\n\tvar route = function(root, defaultRoute, routes) {\n\t\tif (root == null) throw new Error(\"Ensure the DOM element that was passed to `m.route` is not undefined\")\n\t\tfunction run1() {\n\t\t\tif (render1 != null) redrawService0.render(root, render1(Vnode(component, attrs3.key, attrs3)))\n\t\t}\n\t\tvar redraw3 = function() {\n\t\t\trun1()\n\t\t\tredraw3 = redrawService0.redraw\n\t\t}\n\t\tredrawService0.subscribe(root, run1)\n\t\tvar bail = function(path) {\n\t\t\tif (path !== defaultRoute) routeService.setPath(defaultRoute, null, {replace: true})\n\t\t\telse throw new Error(\"Could not resolve default route \" + defaultRoute)\n\t\t}\n\t\trouteService.defineRoutes(routes, function(payload, params, path) {\n\t\t\tvar update = lastUpdate = function(routeResolver, comp) {\n\t\t\t\tif (update !== lastUpdate) return\n\t\t\t\tcomponent = comp != null && (typeof comp.view === \"function\" || typeof comp === \"function\")? comp : \"div\"\n\t\t\t\tattrs3 = params, currentPath = path, lastUpdate = null\n\t\t\t\trender1 = (routeResolver.render || identity).bind(routeResolver)\n\t\t\t\tredraw3()\n\t\t\t}\n\t\t\tif (payload.view || typeof payload === \"function\") update({}, payload)\n\t\t\telse {\n\t\t\t\tif (payload.onmatch) {\n\t\t\t\t\tPromise.resolve(payload.onmatch(params, path)).then(function(resolved) {\n\t\t\t\t\t\tupdate(payload, resolved)\n\t\t\t\t\t}, bail)\n\t\t\t\t}\n\t\t\t\telse update(payload, \"div\")\n\t\t\t}\n\t\t}, bail)\n\t}\n\troute.set = function(path, data0, options) {\n\t\tif (lastUpdate != null) {\n\t\t\toptions = options || {}\n\t\t\toptions.replace = true\n\t\t}\n\t\tlastUpdate = null\n\t\trouteService.setPath(path, data0, options)\n\t}\n\troute.get = function() {return currentPath}\n\troute.prefix = function(prefix) {routeService.prefix = prefix}\n\tvar link = function(options, vnode5) {\n\t\tvnode5.dom.setAttribute(\"href\", routeService.prefix + vnode5.attrs.href)\n\t\tvnode5.dom.onclick = function(e) {\n\t\t\tif (e.ctrlKey || e.metaKey || e.shiftKey || e.which === 2) return\n\t\t\te.preventDefault()\n\t\t\te.redraw = false\n\t\t\tvar href = this.getAttribute(\"href\")\n\t\t\tif (href.indexOf(routeService.prefix) === 0) href = href.slice(routeService.prefix.length)\n\t\t\troute.set(href, undefined, options)\n\t\t}\n\t}\n\troute.link = function(args0) {\n\t\tif (args0.tag == null) return link.bind(link, args0)\n\t\treturn link({}, args0)\n\t}\n\troute.param = function(key0) {\n\t\tif(typeof attrs3 !== \"undefined\" && typeof key0 !== \"undefined\") return attrs3[key0]\n\t\treturn attrs3\n\t}\n\treturn route\n}\nm.route = _24(window, redrawService)\nvar _31 = coreRenderer(window)\nm.render = _31.render\nm.redraw = redrawService.redraw\nm.request = requestService.request\nm.jsonp = requestService.jsonp\nm.parseQueryString = parseQueryString\nm.buildQueryString = buildQueryString\nm.version = \"2.0.0-rc.4\"\nm.vnode = Vnode\nm.PromisePolyfill = PromisePolyfill\n\nexport default m\nvar _m = m.m,_trust = m.trust,_fragment = m.fragment,_mount = m.mount,_route = m.route,_render = m.render,_redraw = m.redraw,_request = m.request,_jsonp = m.jsonp,_parseQueryString = m.parseQueryString,_buildQueryString = m.buildQueryString,_version = m.version,_vnode = m.vnode,_PromisePolyfill = m.PromisePolyfill\nexport {_m as m,_trust as trust,_fragment as fragment,_mount as mount,_route as route,_render as render,_redraw as redraw,_request as request,_jsonp as jsonp,_parseQueryString as parseQueryString,_buildQueryString as buildQueryString,_version as version,_vnode as vnode,_PromisePolyfill as PromisePolyfill}","import m from 'mithril'\r\n\r\nconst options = ['/posts', '/comments', '/albums', '/photos', '/todos', '/users']\r\n\r\nconst url = item => (start, limit) => `https://jsonplaceholder.typicode.com${item}?_start=${start}&_limit=${limit}`\r\n\r\nconst urls = options.reduce((req, item) => {\r\n  req[item] = url(item)\r\n  return req\r\n}, {})\r\n\r\nconst http = model => url => route => m\r\n  .request({\r\n    url,\r\n    method: 'GET',\r\n    extract: xhr => {\r\n      model.data[route].limit = parseInt(xhr.getResponseHeader('x-total-count'))\r\n      return JSON.parse(xhr.responseText)\r\n    },\r\n  })\r\n  .then(data => {\r\n    model.data[route].data = model.data[route].data.concat(data)\r\n    return model\r\n  })\r\n\r\nconst reqs = {\r\n  urls,\r\n  http,\r\n}\r\n\r\nexport const model = {\r\n  reqs,\r\n  limits: [ 30, 40, 50, 60, 70, 80, 90, 100 ],\r\n  data: {},\r\n  state: { url: '', route: '', scrollPos: 1, limit: 30, profile: '', tabsShowing: false, showLimits: false },\r\n  toggleLimits: model =>\r\n    model.state.showLimits = !model.state.showLimits,\r\n  showTabs: model =>\r\n    model.state.tabsShowing = !model.state.tabsShowing,\r\n}\r\n","import m from 'mithril'\r\n\r\nconst Hamburger = ({ attrs: { model } }) => {\r\n  const state = {\r\n    close:\r\n      'M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z',\r\n    open: 'M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z',\r\n  }\r\n\r\n  const render = dom =>{\r\n    return m.render(\r\n      dom,\r\n      m('path', {\r\n        xmlns: 'http://www.w3.org/2000/svg',\r\n        d: model.state.tabsShowing ? state.close : state.open,\r\n      })\r\n    )}\r\n\r\n  return {\r\n    oncreate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    onupdate: ({ dom }) => {\r\n      let _dom = dom\r\n      return render(_dom)\r\n    },\r\n    view: ({ attrs: { model } }) =>\r\n      m('svg.btn.hamburger', {\r\n        style:{fill: model.state.tabsShowing? 'white': 'inherit'},\r\n        onclick: () => model.showTabs(model),\r\n      }),\r\n  }\r\n}\r\n\r\nexport default Hamburger\r\n","export const animateComponentEntrance = idx => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  return setTimeout(() => {\r\n    dom.classList.toggle('stretchRight')\r\n    dom.style.opacity = 1\r\n  }, idx * 100 + 20)\r\n}\r\n\r\nexport const animateSidebarEntrance = ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  dom.classList.toggle('slideRight')\r\n  dom.style.opacity = 1\r\n}\r\n\r\nexport const animateChildrenEntrance = ({ dom }) => {\r\n  let children = [ ...dom.children ]\r\n\r\n  return children.map((child, idx) => {\r\n    child.style.opacity = 0\r\n    setTimeout(() => {\r\n      child.classList.toggle('slideRight')\r\n      child.style.opacity = 1\r\n    }, (idx + 1) * 10)\r\n  })\r\n}\r\n\r\nexport const animateChildrenLimitsEntrance = idx => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle('slideDown')\r\n    dom.style.opacity = 1\r\n  }, (idx + 1) * 200)\r\n}\r\n\r\nexport const animate = dir => ({ dom }) => {\r\n  dom.style.opacity = 0\r\n  setTimeout(() => {\r\n    dom.classList.toggle(dir)\r\n    dom.style.opacity = 1\r\n  },  200)\r\n}\r\n\r\nexport const slideModalOut = ({ dom }) => {\r\n  return new Promise(() => {\r\n    dom.classList.remove('slideRight')\r\n    return setTimeout(()=> {\r\n      dom.classList.add('reverseAnimation', 'slideRight')\r\n    } , 200)\r\n  })\r\n}\r\n\r\n\r\nexport const animateChildrenLimitsExit = ({ dom }) =>\r\n  new Promise(() => {\r\n    [ ...dom.children ].reverse().map((child, idx) => {\r\n      return setTimeout(() => {\r\n        child.style.display = 'none'\r\n      }, idx * 100)\r\n    })\r\n  })\r\n\r\n","import m from 'mithril'\r\nimport Hamburger from './Hamburger.js'\r\nimport { animateChildrenLimitsEntrance, animateChildrenLimitsExit, animate } from '../utils/animations.js'\r\n\r\n\r\nconst Selector = {\r\n  onbeforeremove: animateChildrenLimitsExit,\r\n  view: ({ attrs: { model } }) =>\r\n    m(\r\n      '.limits',\r\n      model.limits.map((limit, idx) =>\r\n        m(\r\n          'button.btn.limit',\r\n          {\r\n            oncreate: animateChildrenLimitsEntrance(idx),\r\n            onclick: () => {\r\n              model.state.limit = limit\r\n              model.state.showLimits = false\r\n            },\r\n            key: idx,\r\n          },\r\n          limit\r\n        )\r\n      )\r\n    ),\r\n}\r\n\r\nconst ChangeLimits = {\r\n  view: ({ attrs: { model } }) =>\r\n    m('.changeLimits', [\r\n      m(\r\n        'button.changeLimitBtn',\r\n        {\r\n          onclick: () => model.toggleLimits(model),\r\n        },\r\n        'Change Limit'\r\n      ),\r\n      model.state.showLimits && m(Selector, { model }),\r\n    ]),\r\n}\r\n\r\nconst Header = {\r\n  oncreate: animate('slideDown'),\r\n  view: ({ attrs: { model } }) =>\r\n    m(\r\n      'header.header',\r\n      {\r\n        id: 'header',\r\n      },\r\n      [ m(Hamburger, { model }), m(ChangeLimits, { model }) ]\r\n    ),\r\n}\r\n\r\nexport default Header\r\n","import m from 'mithril'\r\nimport { animate, animateChildrenLimitsEntrance } from '../utils/animations.js'\r\n\r\n\r\nconst Footer = {\r\n  oncreate: animate('slideUp'),\r\n  view: () => m('footer.footer', {\r\n    oncreate:animateChildrenLimitsEntrance, id: 'footer',\r\n  },\r\n  'content served from https://jsonplaceholder.typicode.com',\r\n  ),\r\n}\r\n\r\nexport default Footer\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance } from '../utils/animations.js'\r\n\r\nconst Tab = ({ attrs: { key } }) => {\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { tab } }) =>\r\n      m(\r\n        'a.tab',\r\n        {\r\n          key,\r\n          id: `${tab}`,\r\n          href: `${tab}`,\r\n          oncreate: m.route.link,\r\n        },\r\n        tab.split('/')[1]\r\n      ),\r\n  }\r\n}\r\n\r\nconst Sidebar = ({ attrs: { model } }) => {\r\n  let tabs = Object.keys(model.reqs.urls)\r\n\r\n  return {\r\n    oncreate: animateSidebarEntrance,\r\n    view: ({ attrs: { model } }) =>\r\n      m(\r\n        'aside.sidebar slide-left',\r\n        {\r\n          id: 'sidebar',\r\n        },\r\n        tabs.map((tab, idx) =>\r\n          m(Tab, {\r\n            key: idx,\r\n            active: model.state.route == tab,\r\n            tab,\r\n          })\r\n        )\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Sidebar\r\n","import m from 'mithril'\r\nimport { animateSidebarEntrance,slideModalOut } from '../utils/animations.js'\r\n\r\nconst Modal = {\r\n  oncreate: animateSidebarEntrance,\r\n  onbeforeremove:slideModalOut,\r\n  view: ({ children }) => m('.navigationModal', children),\r\n}\r\n\r\nexport default Modal\r\n","import m from 'mithril'\r\nimport { animate } from '../utils/animations.js'\r\n\r\nconst Body = {\r\n  oncreate: animate('slideUp'),\r\n  view: ({attrs:{ children }}) => m('section.content', { id: 'content' }, children),\r\n}\r\n\r\nexport default Body\r\n","import m from 'mithril'\r\nimport Header from './Header.js'\r\nimport Footer from './Footer.js'\r\nimport Sidebar from './Sidebar.js'\r\nimport Modal from './Modal.js'\r\nimport Body from './Body.js'\r\n\r\nconst Layout = ({ attrs: { model } }) => {\r\n  return {\r\n    view: ({ children }) =>\r\n      m(\r\n        'section.layout',\r\n        {\r\n          id: 'layout',\r\n        },\r\n        children\r\n          ? [\r\n            m(Header, { model }),\r\n            model.state.profile == 'phone'\r\n              ? model.state.tabsShowing ? m(Modal, m(Sidebar, { model })) : null\r\n              : m(Sidebar, { model }),\r\n            m(Body, { model, children}),\r\n            m(Footer, { model }),\r\n          ]\r\n          : []\r\n      ),\r\n  }\r\n}\r\n\r\nexport default Layout\r\n","export const isEmpty = data => data.length == 0\r\n\r\nexport const getData = model => path => {\r\n  model.state.route = path\r\n  model.data[path] ? model.data[path] : (model.data[path] = { data: [], limit: 1 })\r\n  let start = model.data[path].data.length\r\n  model.reqs.http(model)(model.reqs.urls[path](start, model.state.limit))(path)\r\n}\r\n\r\nexport const infiniteScroll = model => e => {\r\n  let route = model.state.route\r\n  let length = model.data[route].data.length\r\n  let setpoint = 10 * length * model.state.scrollPos\r\n  if (e.target.scrollTop - model.state.scrollPos >= setpoint) {\r\n    model.state.scrollPos++ + e.target.scrollTop\r\n    if (length < model.data[route].limit) {\r\n      getData(model)(route)\r\n    }\r\n  }\r\n}\r\n\r\nexport const init = model => path => {\r\n  model.state.scrollPos = 1\r\n  model.state.tabsShowing = false\r\n  return getData(model)(path)\r\n}\r\n","export * from './animations.js'\r\nexport * from './helpers.js'\r\n","import m from 'mithril'\r\nimport Layout from './components/Layout.js'\r\nimport { isEmpty, init, infiniteScroll, animateComponentEntrance } from './utils/index.js'\r\n\r\nconst IsLoading = m('.holder',  [\r\n  m('.preloader', [ m('div'), m('div'), m('div'), m('div'), m('div'), m('div'), m('div') ]),\r\n])\r\n\r\nconst Post = {\r\n  view: ({ attrs: { key, item: { title, body } } }) => {\r\n    return m(\r\n      '.grid-item.row.post',\r\n      {\r\n        id: `post-${key}`,\r\n      },\r\n      [ m('h1.left', title), m('p.right', body) ]\r\n    )\r\n  },\r\n}\r\n\r\nconst Comment = {\r\n  view: ({ attrs: { key, item: { email, name, body } } }) => {\r\n    return m(\r\n      '.grid-item.row.comment',\r\n      {\r\n        id: `comment-${key}`,\r\n      },\r\n      [ m('h1.left', name), m('p.left', email), m('p.left', body) ]\r\n    )\r\n  },\r\n}\r\n\r\nconst Album = {\r\n  view: ({ attrs: { key, item: { title } } }) => {\r\n    return m(\r\n      '.grid-item.album',\r\n      {\r\n        id: `album-${key}`,\r\n      },\r\n      [ m('h1', title) ]\r\n    )\r\n  },\r\n}\r\n\r\nconst Photo = {\r\n  view: ({ attrs: { key, item: { title, thumbnailUrl } } }) => {\r\n    return m(\r\n      '.grid-item.photo',\r\n      {\r\n        id: `photo-${key}`,\r\n      },\r\n      [\r\n        m('h1.left', title),\r\n        m('img.right', {\r\n          src: thumbnailUrl,\r\n        }),\r\n      ]\r\n    )\r\n  },\r\n}\r\n\r\nconst Todo = ({ attrs: { item: { completed } } }) => {\r\n  return {\r\n    view: ({ attrs: { key, item: { title } } }) => {\r\n      return m(\r\n        '.grid-item.todo',\r\n        {\r\n          id: `todo-${key}`,\r\n          key,\r\n        },\r\n        [\r\n          m('h1.left', title),\r\n          m(\r\n            'input[type=checkbox].right',\r\n            {\r\n              onclick: () => {\r\n                completed = !completed\r\n              },\r\n              checked: completed,\r\n            },\r\n            'Done'\r\n          ),\r\n        ]\r\n      )\r\n    },\r\n  }\r\n}\r\n\r\nconst User = {\r\n  view: ({  attrs: { key, item: { email, name, phone, username, website } } }) =>\r\n    m(\r\n      '.grid-item.user',\r\n      {\r\n        id: `user-${key}`,\r\n        key,\r\n      },\r\n      [\r\n        m('.row', [ m('p.left', { for: 'name' }, 'name'), m('p.right.bold', { name: 'name' }, name) ]),\r\n        m('.row', [ m('p.left', { for: 'email' }, 'email'), m('p.right.bold', { name: 'email' }, email) ]),\r\n        m('.row', [ m('p.left', { for: 'phone' }, 'phone'), m('p.right.bold', { name: 'phone' }, phone) ]),\r\n        m('.row', [\r\n          m('p.left', { for: 'username' }, 'username'),\r\n          m('p.right.bold', { name: 'username' }, username),\r\n        ]),\r\n        m('.row', [ m('p.left', { for: 'website' }, 'website'), m('p.right.bold', { name: 'website' }, website) ]),\r\n      ]\r\n    ),\r\n}\r\n\r\nconst makeItem = type => {\r\n  switch (type) {\r\n  case '/posts':\r\n    return Post\r\n  case '/comments':\r\n    return Comment\r\n  case '/albums':\r\n    return Album\r\n  case '/photos':\r\n    return Photo\r\n  case '/todos':\r\n    return Todo\r\n  case '/users':\r\n    return User\r\n  }\r\n}\r\n\r\n\r\n\r\nconst Component = {\r\n  view: ({ attrs: { model } }) => {\r\n    let route = model.state.route\r\n    let Item = makeItem(route)\r\n    let data = model.data[route].data\r\n\r\n    return m(\r\n      'section.component',\r\n      {\r\n        id: 'component',\r\n        route: model.state.route,\r\n        onscroll: infiniteScroll(model),\r\n      },\r\n      isEmpty(data)\r\n        ? m('.loader', IsLoading)\r\n        : data.map((_item, idx) =>\r\n          m(Item, {\r\n            oncreate: animateComponentEntrance(idx),\r\n            key: idx,\r\n            item: _item,\r\n            model,\r\n          })\r\n        )\r\n    )\r\n  },\r\n}\r\n\r\n\r\nconst toRoute = model => ({\r\n  onmatch: (_, path) =>\r\n    init(model)(path),\r\n  render: () =>\r\n    m(\r\n      Layout,\r\n      {\r\n        model,\r\n      },\r\n      m(Component, {\r\n        model,\r\n      })\r\n    ),\r\n})\r\n\r\nexport const App = model => {\r\n  return {\r\n    '/posts': toRoute(model),\r\n    '/comments': toRoute(model),\r\n    '/albums': toRoute(model),\r\n    '/photos': toRoute(model),\r\n    '/todos': toRoute(model),\r\n    '/users': toRoute(model),\r\n  }\r\n}\r\n","import m from 'mithril'\r\nconst root = document.body\r\nimport { model } from './Model.js'\r\n\r\nimport { App } from './App.js'\r\n\r\n\r\nif (module.hot) {\r\n  module.hot.accept()\r\n}\r\n\r\nif (process.env.NODE_ENV !== 'production') {\r\n  console.log('Looks like we are in development mode!')\r\n}\r\n\r\n// Styles\r\nimport './index.css'\r\nimport './utils/animations.css'\r\nimport './utils/loader.css'\r\n\r\nfunction getProfile(w) {\r\n  if (w < 668) return 'phone'\r\n  if (w < 920) return 'tablet'\r\n  return 'desktop'\r\n}\r\n\r\nlet winW = window.innerWidth\r\nmodel.state.profile = getProfile(winW)\r\n\r\nfunction checkWidth() {\r\n  const w = window.innerWidth\r\n  if (winW !== w) {\r\n    winW = w\r\n    var lastProfile = model.state.profile\r\n    model.state.profile = getProfile(w)\r\n    if (lastProfile != model.state.profile) m.redraw()\r\n  }\r\n  requestAnimationFrame(checkWidth)\r\n}\r\n\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker.register('./service-worker.js').then(registration => {\r\n      console.log('SW registered: ', registration)\r\n    }).catch(registrationError => {\r\n      console.log('SW registration failed: ', registrationError)\r\n    })\r\n  })\r\n}\r\n\r\n\r\ncheckWidth()\r\n\r\nm.route(root, '/posts', App(model))\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else {\n        window.location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}